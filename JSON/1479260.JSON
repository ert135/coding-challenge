{"m_szDocID":"1479260","m_szDocTitle":"STOCHASTIC CONTROL SYSTEM AND METHOD FOR MULTI-PERIOD CONSUMPTION - ADVISOR SOFTWARE, INC.","m_szYear":"2007","m_szDocSumamry":"STOCHASTIC CONTROL SYSTEM AND METHOD FOR MULTI-PERIOD CONSUMPTION WIPO Patent Application WO/2009/049294 A2 Abstract: The present invention relates to dynamic optimization of system control over time. The need for dynamic optimization arises in many settings, as diverse as solar car power consumption during a multi-day race and retirement portfolio management. We disclose a reformulation of the control problem that overcomes the so-called 'curse of dimensionality' and allows formulation of optimal control policies multiple period planning horizons. One optimal control policy is for power consu","m_szDocBody":"stochastic control system method multiperiod consumption wipo patent application abstract invention relate dynamic optimization system control time dynamic optimization arise setting diverse solar car power consumption multiday race retirement portfolio management disclose reformulation control problem overcome socalled curse dimensionality formulation optimal control policy multiple period planning horizon optimal control policy power consumption solar car race involve segment condition vary day risk consumption portfolio intended support retirement multiperiod control policy account future uncertainty aspect invention claim specification drawing inventor torre nicolo estate drive oakland rudd andrew valley road orinda application number advisor software inc mount diablo blvd suite lafayette torre nicolo estate drive oakland rudd andrew valley road orinda international classe attorney agent firm beffel ernest hayne beffel wolfeld llp box half moon bay claim claim computerimplemented method generating recommended control action policy multiyear planning setting control policy realistically determined sery mental step beginning electronic data compilation current resource information investor including input describing investment human capital housing resource future goal information investor including goal repeating onetime expense date retirement hold sell housing resource goal information categorising goal essential nonessential market information including estimate investment opportunity risk reward covariance ratios method including electronically calculating return alternative diversified portfolios include investment resource human capital housing resource identifying preferred portfolio mixe return range risk taking level return any human capital housing resource satisfy goal set investor retirement age holding selling housing resource setting computersolvable problem including assigning grid spanning subdividing time horizon potential resource value investor portfolio range spending level satisfy essential goal investor applied satisfying investor nonessential goal range risk taking level working backward time horizon computer evaluate potential control action time resource value grid selecting recommended control action time resource value control action setting spending risk taking level time combining control action control action policy computer evaluate potential control action time resource value include calculating utility spending risk taking level utility specific time resource spending risk taking level combine utility specific time spending future expected utility end time horizon future spending risk taking level utility calculation recognise greater utility satisfying essential goal satisfying nonessential goal outputting part control action policy time horizon potential resource value including recommendation spending risk taking level method utility specific time spending essentially prohibitive spending level fail satisfy essential goal computer implemented control method selecting control action multiperiod setting beginning data resource including current resource information future goal information performance opportunity information resource replenishment risk information method including determining risk return alternative resource holding predetermined planning horizon assigning grid spanning subdividing planning horizon range resource replenishment risk level potential resource level including potential resource cushion level end planning horizon range consumption part grid evaluating potential control action selecting control action policy setting consumption level evaluating include calculating utility sery potential control action utility combine utility consumption performance opportunity information interval future expected utility planning horizon result probabilistically expected achieved consequence taking potential control action utility encountering remote probability failing time planning horizon satisfy applicable goal prohibitive outputting control action policy include consumption level resource replenishment risk information computer implemented method recommending control action policy multi year planning setting beginning electronic data compilation current resource information including investment noninvestment resource future goal information including goal repeating onetime expense saving control non investment resource goal information categorising goal essential non essential market information including estimate investment opportunity risk reward covariance ratios method including determining risk return alternative diversified portfolios investment noninvestment resource range risk level status noninvestment resource conform goal control non investment resource assigning grid spanning subdividing time horizon range risk level potential combined resource value investment noninvestment resource including bequest range consumption satisfy essential nonessential goal part grid evaluating potential control action selecting control action policy setting consumption risk level evaluating include calculating utility sery potential control action utility combine utility consumption time future expected utility time horizon result probabilistically expected achieved consequence taking potential control action utility calculation recognise utility satisfying essential nonessential goal utility encountering remote probability failing time time horizon satisfy essential expenditure goal prohibitive outputting control action policy include consumption risk level method claim risk return alternative diversified portfolios account covariance ratios investment non investment resource noninvestment resource time method claim including choosing goal express amount satisfy goal constant dollar current purchasing dollar including grid range inflation factor method claim including summarising alternative diversified portfolios efficient frontier expressing risk level term valueatrisk percentage resource selected probability confidence level holding period method claim noninvestment resource include home employment income social security entitlement method claim current resource information include embedded gain tax purpose resource wherein grid include range embedded gain evaluating include realising tax consequence selling resource embedded gain satisfy goal method investment resource embedded gain home sale home paired purchase replacement home method claim including outputting control policy datacube control policy datacube spanning time horizon combined resource value grid method including beginning current resource control policy included control policy datacube conducting probabilistic simulation run time horizon generate distribution outcome reporting distribution outcome method claim including prior evaluating control action constructing resource claim analysis qualifying goal satisfied resource available method including constructing cash flow analysis qualifying timing goal feasible timing resource available planning server selecting control action multiyear planning setting planning server repository electronic data include current resource information including investment noninvestment resource future goal information including goal repeating onetime expense saving control noninvestment resource goal information categorising goal essential nonessential market information including estimate investment opportunity risk reward covariance ratios planning server including alternative portfolio generating module accesse data determine risk return function range alternative diversified portfolios investment noninvestment resource range risk level time horizon risk return function account covariance ratios investment noninvestment resource status noninvestment resource conform goal control noninvestment resource problem initiation module accesse data establishes grid spanning subdividing time horizon range risk level potential combined resource value investment noninvestment resource including bequest range consumption satisfy essential nonessential goal control action recommendation module accesse grid risk return function utility function based future goal information evaluate potential control action select control action policy setting consumption risk level based utility sery potential control action utility combine utility consumption time future expected utility time horizon result probabilistically expected achieved consequence taking potential control action calculation utility recognise utility satisfying essential nonessential goal utility encountering remote probability failing time time horizon satisfy essential expenditure goal prohibitive control action recommendation module output control action policy include consumption risk level control strategy evaluation system including planning server including lifetime control policy simulation server accesse control action policy output control action recommendation module conduct probabilistic simulation run time horizon simulation run apply control action policy generate distribution outcome report distribution outcome planning server selecting control action multiyear planning setting planning server repository electronic data include current resource information investor including input describing investment human capital housing resource future goal information investor including goal repeating onetime expense date retirement hold sell housing resource goal information categorising goal essential nonessential market information including estimate investment opportunity risk reward variance ratios planning server including alternative portfolio generating module accesse data calculate return alternative diversified portfolios include investment resource human capital housing resource identifying preferred portfolio mixe return range risk taking level return any human capital housing resource satisfy goal set investor retirement age holding selling housing resource problem initiation module accesse data establishes grid spanning subdividing time horizon potential resource value investor portfolio range spending level satisfy essential goal investor applied satisfying investor nonessential goal range risk taking level control action recommendation module accesse grid return alterative diversified portfolios range risk utility function evaluate potential control action select control action policy setting consumption risk level based utility sery potential control action control action recommendation module work backward time horizon computer evaluate potential control action time resource value grid selecting recommended control action time resource value control action setting spending risk taking level time combining control action control action policy utility specific time resource spending risk taking level combine utility specific time spending future expected utility end time horizon future spending risk taking level utility calculation recognise greater utility satisfying essential goal satisfying nonessential goal and control action recommendation module output part control action policy time horizon potential resource value including recommendation spending risk taking level description stochastic control system method multiperiod consumption background invention invention relate dynamic optimization system control time dynamic optimization arise setting diverse space ship control solar car power consumption multiday race retirement portfolio management generally control action time change state system optimum control action time control theory broad application classical paper early day control theory jame maxwell paper governor proceeding royal society vol applied control theory machine governor centrifugal governor steam engine patent apply control theory optimization spacecraft trajectory spacecraft design simultaneously wiffen control optimising objective pat practical application control theory wiffen identify col spacecraft trajectory spacecraft design groundwater soil decontamination stabilising vibration structure maximising portfolio electric circuit design design operation chemical reactor design operation water reservoir system problem solar car multiday race leg completed day set topography known solar power vary time day deterministic cloud cover probabilistic success day measured time complete leg charge level car battery sun set car racing desired final state completion leg race time minimum final battery charge level primary control variable power consumption state variable include charge level solar power distance travelled road grade which function distance travelled set speed selected power consumption road grade present nontrivial dynamic optimization problem area intermittent cloud cover appear simpler problem retirement portfolio management choosing run battery charge level expected availability recharging solar power involve tradeoff risk reward portfolio management however race day evolve priori likelihood cloud cover updated complicate problem favour risk budget margin safety approach charge level opportunity arise devise approach dynamic optimization practical application problem involving consumption time uncertain replenishment resource improved strategy design control decision system operation follow summary invention disclose approach control optimization make multiperiod optimization tractable application presented planning race strategy solar car application planning strategy time retirement portfolio description drawing fig depict solar car communication system monitor battery level position speed fig depict hypothetical curve power consumption verse car speed fig depict system assemble goal performance risk information solve multiperiod control strategy problem fig depict module planning server combine compile set control action recommendation fig illustrate simple grid fig depict highlevel hardware architecture implement embodiment technology disclosed fig depict system assemble portfolio goal market information solve multiperiod control strategy problem fig depict module planning server combine compile set control action recommendation fig depict aspect method developing control strategy fig depict risk reward relationship personal investment opportunity general investment opportunity fig illustrative data covariance ratios exercising markovitz method similar analysis risk reward fig illustrate hypothetical change mix investment non investment asset period beginning retirement fig depict utility curve fig depict lifetime resource claim statement adapted retirement planning fig illustrate graph claim cash flow summary balancing goal fig depict major adjustment asset allocation normal economic trajectory life fig graph margin safety analysis fig label path fortunate unfortunate based current progress projected outcome end planning horizon fig normalise fortunate unfortunate trajectory detailed description detailed description made reference figure preferred embodiment illustrate invention limit scope defined claim ordinary skill art recognise variety equivalent variation description follow solar car consumption control application begin applying control theory solar car race multiple stage state problem clearly stage solar car race subject vagary weather simplification world solar car challenge north american solar car challenge university private institution compete solar car allowed number square feet panel convert sunlight power permitted battery capacity car sun obscured cloud low horizon race conducted day adequate time allowed complete stage dark mechanical breakdown start staggered predetermined electrical power generated car solar panel function time day cloud cover time day determine angle sun vagary weather create stochastic probability sun full power generate electrical power finishing early advantage improve team score winner elapsed time competition solar panel reoriented catch full power sun solar panel tilted face sun completely draining battery considered disadvantageous car require power start motion continue maximum solar power full battery car consume power accelerate maintain legal speed limit time solar car travel legal speed limit conserve power power consumed proportional air resistance proportional square car velocity effect power consumption speed complicated road grade car country course steepest part road grade require bright sunlight battery assistance part course charged battery greater utility car downhill unlike modern electrical car reverse charging capability car downhill nature multistage optimization problem control theory bellman algorithm provide develop control strategy advance refine information weather condition opportunity arise develop system method permit development control strategy real time refinement control solar car progresse stage race short term weather forecast reliable wiffen patent approach control theory paper additional application portfolio management fig depict solar car communication system monitor battery level position speed typically driver solar car receive real time update suggested control system van solar car system reside van save weight draw van power system analyst opportunity concentrate monitoring control recommendation car driver could fig depict hypothetical curve power consumption verse car speed include power consumption starting car family curve depicted fig account impact road grade performance car hill power required overcome gravity downhill gravity assist powering car fig depict system assemble goal performance risk information solve multiperiod control strategy problem terminal configure goal information typically web server performance risk information compiled performance risk information server performance information keyed battery power consumption solar power consumption road grade family curve depicted fig capture factor road grade least vary car position course additional refinement performance curve account factor wind encountered solar car overlap risk information risk information include maximum solar energy probability obscured solar energy maximum solar energy vary time day sun angle horizon rise fall incident angle sun change relative thickness atmosphere sun light passe relative orientation solar cell solar car solar car rest maximum solar energy vary incident angle sun solar panel reoriented sun lifting panel surface car planning server apply bellman algorithm variation bellman algorithm determine expected utility alternative control action select control action solar car driver take develop control strategy varying point course consistent current state race simulation report server vary probabilistic factor apply control strategy simulate elapsed time studying simulation race team determine battery charge consume accumulate time day position course current battery charge current weather obscured solar power risk bad weather remainder course fig depict module planning server combine compile set control action recommendation performance contour module family performance curve speed function power consumption family curve indexed road grade function location course optionally family curve account wind condition degrade enhance car performance then curve indexed road grade wind condition problem initiation module assign grid spanning time horizon range performance risk range current resource range consumption simple grid illustrated fig illustration make clear point grid equally spaced efficiency unequally spaced point best efficiency conducted coarse grid finer grid narrower range value represented continuous value represented discrete value time horizon expressed location course time day elapsed time factor combine express solar car race range performance risk relate weather weather forecast car design phase generic race refined predictable variance hour time distribution expected weather vary location course vary time day race run area subject afternoon thunderstorm distribution expected weather expressed probability solar power obscured location and optionally time day family distribution expected weather constructed race opposed design phase range current resource include battery solar power solar power combined battery power speed car along diverted charge battery control strategy system evaluate simulate battery power sun low recharging battery sun high control strategy evaluate battery power climbing grade charging battery coasting hill control action recommendation module apply bellman algorithm explained section begin end race iterate backward potential outcome potential outcome expected utility race setting utility function linear function total elapsed time faster car finishes race better final state car find finish line location battery exhausted car free consume battery power risk running low power diminishes final state car include total elapsed time range predictable bound iterating backward grid combination position time horizon current resource algorithm determine utility control action utility control action depend weather increment time and progress course control action chosen expected utility resulting system state control action taken expected utility determined applying weather probability distribution current state control action depending obscured sun energy power car charge battery iterating backward grid expected utility control action calculated expected utility stage grid determined output control action recommendation module data immediately recommend control action devise strategy race simulate range control action portfolio management seminal work portfolio management harry markowitz robert merton honoured nobel prize economic merton book continuous time finance blackwell modern classic present analytical approach selecting asset hold portfolio assuming nonnegative consumption book carry analytical approach far portfolio include asset growthoptimum portfolio riskless security applying bellman algorithm closed form solution optimum mix illustrated asset however mathematical approach quickly intractable complicating factor account literature discussion portfolio asset riskless risky security generalisation twenty asset see akian sulem taksar dynamic optimization long term growth rate portfolio transaction cost logarithmic utility mathematical finance accessed akianoodynamichtml sept applying merton insight practical problem treated tomorrow hardest problem martin haugh andrew computational challenge portfolio management computing science engineering vol accessed sept hardware software architecture fig depict highlevel hardware architecture implement embodiment technology disclosed major grouping hardware architecture application interface application controller data integration batch application service realtime application service offline data processe legend client system linked communication server system depicted hardware arranged application service provider asp configuration mean processe computing intensive processe security sensitive processe processe rely subscription proprietary data hosted server implementation server remotely hosted customer set server shared server computing intensive processe computing resource shared user disclosure follow apparent analysis step involve time computing resource data entry step precede analysis shared server security sensitive processe fewer system secured sensitive data downloaded workstation data entry shared server processe rely subscription proprietary data subscription priced based number server updated regular basis expensive convenient update single server server farm perform calculation updated hardware distribute subscription data numerous workstation course asp model advantage workstation capable running client server side application run server apache run browser mozilla accesse server application interface depict alternative interface application complementary level service complementary administrative interface retirement income planning module ultra net worth module represent complementary level service interface structure adapted customer retirement income planning module potentially include alternative web app thick client interface retirement income planning web app commonly thin client implemented conventional browser microsoft internet explorer netscape browser opera safari mozillas foxfire browser implementation software option php perl java thin client retirement planning webtop commonly thick client programming language preparing thick client include java visual language visual basic visual addition thick thin client interface retirement income planning application include enterprise control webtop web app analyst store manipulate data plurality customer ultra net worth module similarly include web app thin client webtop thick client enterprise control web app webtop module application interface typically operated laptop desktop workstation application interface coupled communication application controller module application controller module include money machine application controller client information database financial plan database application controller manage updating clientrelated input invoke realtime application service application controller process accesse update client information database financial plan database responsive request application interface data integration module invoked application controller import information client database external source brokerage client application data integration module invoked application controller import information financial plan database stock holding client asset list client asset list accessible data integration module asset list holding managed analyst additional asset list brokerage account managed elsewhere client information asset list published data integration module automatically posted client information database financial plan database invocation application controller module alternatively application controller publish application interface availability updated data post update database control mediated application controller module financial plan database subject updating batch application service offline data process batch application service include monitoring process periodic reporting process data delivery process configuration management process monitoring process repeatedly periodically cheque status client asset plan cheque liability monitoring process persistent consistently watch variation plan market client analyst process distracted vacation monitoring process monitor variation plan rebalance portfolio lack stop loss order general deterioration segment client asset base monitoring process detect deterioration asset segment readily accurately client analyst would data delivery process reach client analyst predetermined mean consistent urgency alert periodic reporting module generate report demand predetermined period weekly monthly quarterly monitoring process periodic reporting process connected data delivery process transmit alert periodic report client analyst data delivery process send email sms message faxe page alert alert provide complete information link location complete information accessed offline data process include data support raw vendor data raw vendor data depicted database web service online source raw vendor data include asset pricing asset characteristic estimate volatility variance correlation performance asset classe data support include data assembly calculation data collection application controller invoke realtime application service embodiment application service include report generator solver simulator asset master turn processe connected database client information entered asset master asset master database accessed template assemble information client asset goal concrete objective reference master template simplify extension updating system design asset goal entered solver simulator invoked solver scope application form simulation monte carlo simulation simulator monte carlo simulation database simulation parameter number simulation run time interval probability distribution model factor probability distribution asset model factor covariance factor similar data usefully maintained simulation database simulation parameter reflect random walk approach trending approach approach relationship model factor successive period introduction control strategy patent disclose investment philosophy embedded system method philosophy firmly rooted considerable body financial research conducted recent decade important part research modern portfolio theory prior research insight developed behavioural finance discipline wealth management generally key finding important determinant investment result investment structure simplest case fund held single account case investment structure fixed pick strategic asset allocation account establish rebalancing policy instance investment structure equity bond rebalanced quarterly complex case fund spread multiple account fund account differ term taxability ira account versus regular brokerage account term ownership joint versus separate property term purpose general fund versus fund dedicated specific purpose multiple account investment structure problem include picking strategic asset allocation rebalancing policy account setting policy transferring fund account joint achieve performance case single account portfolio investment structure question simply asset allocation decision basic finding investment structure choice determine investment outcome asset selection account complex case multiple account investment structure expected critical decision investment structure fixed important determinant success proper tax management element proper tax management locating asset classe investment structure tax conscious manner selecting tax efficient asset taxable account diligently harvesting tax losse slow realise capital gain adjusting portfolio exposure tax efficient manner purchase hedge sale highly appreciated long determinant investment success careful asset selection general performance asset reflect combination market factor asset specific factor market wide factor controlled strategic asset allocation asset selection focuse specific factor core finding market grown efficient time risk asset specific event increased trend make asset selection increasingly difficult mean add investment performance general conclusion diversification carefully controlled actual asset selection delegated specialist fund manager research show however fund manager persistently add fee charged fund probability manager adding fee basis consideration lead fund selection methodology emphasise avoiding mistake order business pursuit performance secondary objective mistake avoided include fund poor risk control fund fee fund seek excessive active return efficient market significant insight investment performance uncovered financial researcher line research behavioural finance revealed actual practise retail investor ideal group retail investor tend reduce risk sticking familiar investment ironically lead excessive concentration fund large firm heavily promoted investment fund stock one employer time retail investor understand importance diversification evaluate portfolio diversification result tend spread fund multiple investment vehicle consideration vehicle closely correlated diversified retail investor tend understand implication taxe investment general cull gain quickly hold losse long behave believed price reverting poor model reality finally retail investor difficulty maintaining consistent investment policy common pattern begin taking excessive risk eventually suffering painful losse switching excessive conservatism pattern begin seeking advice older person advice coloured person circumstance unsuitable advisee circumstance clear implication behavioural finance research retail investor unable implement practise identified modern portfolio theory arise professional advisor implement structured investment programme behalf advisee advisor effectiveness enhanced establishing trusted relationship advisee relationship rest advisee understanding advisor him finding service verify service rendered advisor economically deliver service promised advisee practise mean investment process implemented integrated system aligned advisory service offering socalled wealth manager system disclosed specifically designed support advisor building trusted client relationship delivery practise investment process understanding client goal fundamental establishing trusted relationship understanding client goal basic motivation investing generate fund required realise future goal example goal investor seek include funding living expense educating child making payment house purchase making capital purchase concrete spending goal discussed fully prior patent application investor general goal instance grow wealth deal future specifically determined alternately viewing home equity financial reserve meet future emergency prefer tap wealth manager system assume advisory client goal model priority goal wealth manager system represent priority term shopping cart cart hold essential goal client wishes accomplishing paying mortgage basic living expense cart hold target goal client plan accomplishing accept shortfall untoward event occur cart hold aspirational goal expect funded favourable circumstance specific goal split cart instance essential educational goal child pay cost college education local state system target priority extend cost private institution aspirational priority include financing graduate school well basic structure goal priority captured cross tabulation concept goal category essential goal target aspirational living expense year year year college cost starting college cost college cost starting year graduate education starting study starting purchase purchase home purchase home house home purchase vacation purchase vacation house home home provide wedding provide provide capital purchase wedding wedding place goal category time comparable footing item basis money set today fund goal general goal define cash flow time living expense goal call annual expenditure potentially rest client life escalating time deal inflation capital purchase goal contrast call lump sum cash flow point time price accomplishment goal discount current dollar expected cash flow funded realise goal goal classified essential goal shortfall tolerated emphasised discounting cost essential goal discount rate equal rate return portfolio tax cash flow provide required cash flow low risk target goal shortfall permissible discount rate expected return typically moderately risky portfolio aspirational goal considerable shortfall permissible expected return fairly aggressive portfolio discount rate goal valued crosstabulation presented cost term goal\\poty basic target additional living expense education house house capital purchase total presentation client immediately investment cost goal client review summary information decide resource align sense value accurately articulate goal financial life life goal funded exclusively investment client rely earning equity stored home nonfinancial investment rental property prospective inheritance totality asset client rely term resource general resource valued way stock bond valued market price real estate estimated market value earning valued discounted cash flow basis government bondbased discount rate cash flow continue life instance social security benefit valuation based actuarial value measure value cash flow basically cost life insurance policy replicate stream cash flow valuation base portion full asset fund goal instance stock reduced tax embedded capital gain earning reduced income taxe levied and circumstance reserve potential reduction earning capacity adjustment total net resource client resource applied paying debt client funding goal refer combination debt goal claim resource business asset liability gathered balance sheet individual resource claim pulled statement resource claim resource claim additional house essential goal human capital supplemental goal social security benefit aspirational goal total prior simulation portfolio application discusse statement resource claim length considerable insight individual financial life gleaned statement resource claim fig extensive sample statement resource claim interesting performance measure funding ratio margin safety depicted fig funding ratio percentage goal priority class funded resource assuming higher priority claim funded first measure extent client achieve goal priority class column table above margin safety show percentage reduction resource absorbed leaving priority class and higher priority fully funded show impact potential losse client life goal basic guidance client financial capacity bear risk statement calculate priority class funding ratio margin safety liability target goal additional goal statement resource claim show client source wealth intend apply wealth basic measure afford however show finance accordingly developed lifetime projection cash flow understand client circumstance projection made optimization algorithm plan sequence saving expenditure action maximise lifetime goal achievement strategy develop show extent current resource generate cash required fund planned expenditure client adequate wealth fund goal timing cash flow finance action borrow fund action trim postpone goal system information availability borrowing focuse trimming postponing goal satisfaction mean balance resource claim developing strategy advisor objective formulate investment strategy meeting cash flow achieve goal keeping mind risk investment managing risk consistent investor goal structure portfolio theory critical decision level risk borne portfolio deeper level risk arise economic exposure question exposure bear degree consideration bear level risk include client financial capacity bear risk reward bearing risk client willingness bear risk advisor assessment client investment maturity expose client risk capacity carry margin safety tell impact losse client life goal strongly grounded assessment client capacity bear risk reward bearing risk primarily function return capital market make sense bear incremental risk generate meaningful increment return assessment capacity bear risk risk return tradeoff lead objective assessment risk suitable client objective assessment coloured subjective factor client willingness bear risk purely psychological factor traditionally evaluated questionnaire addition advisor assess client investment maturity client full market cycle client selfreported willingness bear risk treated caution assessment investment experience typically included client questionnaire advisor establish trusted relationship client client built investment experience advisor educate client capacity bear risk reward structure doing expect psychological factor unimportant psychological factor tempered experience education risk suitable client close recommended objective assessment client limited experience built trusted relationship advisor understand investing subjective factor greater importance control decision represent suitable risk risk arise exposure important understand exposure client noninvestment portfolio exposure investment part chosen diversifying manner side statement resource claim claim fixed dollar term claim fixed purchasing power term explicit debt home mortgage fixed dollar term goal maintain level living expense however fixed purchasing power term resource side statement asset track inflation not earning power house price tend increase general price level social security benefit cpilinked bond explicitly linked general price level insurance benefit bond however fixed dollar term purchasing power term exposure business cycle obviously exposure stock portion portfolio earning carry business cycle exposure case job bonus commission significant part compensation layoff real possibility business cycle exposure stable job variable component compensation government service teaching clerical job risk exposure client life fixed exposure inherent goal changed goal change case non financial resource fixed investment category exposure actively practically fixed instance part portfolio advisor control fund held plan limited range investment case large embedded capital gain make disadvantageous adjust exposure degree fixed exposure hedge another instance cpi sensitive resource hedge cpi sensitive claim analyse effect represent exposure client resource claim term factor model claim benchmark fixed resource locked position portfolio efficient frontier markovitz sense developed varying remaining position portfolio analysis show investment opportunity accessible client point life general non investment portion portfolio evolve life span instance earning decrease retirement approaches accordingly investment opportunity evolve portfolio client client non investment asset unique approach include development efficient frontier client generic efficient frontier analyse situation dynamic optimization methodology unique problem formulation characterise client portfolio size risk level choice parameter summarise portfolio reduce optimization problem manageable complexity client utility derived priority classe claim economic environment characterised time varying investment opportunity set maximise client utility arrive optimal strategy selected strategy risk level borne function year wealth level ratios claim wealth risk level current period needed subsequent stage analysis choosing risk level dynamically ensure consistent tradeoff consumption investment risktaking bearing mind intertemporal tradeoff utility derived recommended risk level current period compare result risk questionnaire optionally select lesser recommendation questionnaire govern reflect judgement subjective factor controlling client selfselected strategy risk level selected objective analysis riskier building portfolios strategic picture focus move tactical implementation step evaluate term liquidity need design objective system focused investment management intimately involved banking type activity accordingly assess cash outflow required portfolio quarter move fund cash asset immediately fund cash withdrawal quarter move optimal portion required funding cash asset certificate deposit short term bond fund way setup ladder asset providing term liquidity required portfolio implication remaining portion portfolio managed medium long term investment horizon step build strategic asset allocation location plan portfolio analysis jointly solve asset class hold account locate holding analytic method variance optimization investment universe consist asset classe result analysis strategic asset allocation account step account turn action select set potential asset holding account selection account number factor requirement selected asset purchase instance mutual fund open investment addition fund meet advisor quality criteria grandfathered virtue existing holding client portfolio finally eligible fund select cheapest share classe own eligible list investment built mean variance optimization complete portfolio construction optimization take strategic asset allocation account benchmark risk measurement return assumption pretax return account subject current taxation posttax return account taxed currently case cost transacting reduction utility investment policy imposed policy set advisor level enforce prudential good practise limiting excessive asset class tilt policy reflect client requirement trading restriction asset instance client corporate insider subject black period trading financial release date optimization complete calculated result cleaned eliminate minim asset holding round trade size result trade list account showing trade required implement strategy method developing control strategy fig depict aspect method section first computerised system collect clientdefined goal goal reduce sequence cash flow time form fgnpdesired spending goal year priority level flow denominated dollar dollar constant purchasing power convention goal labelled priority considered essential fund priority strongly accomplish important priority example client goal first pay mortgage require fifteen year denominated dollar opposed constant purchasing power essential dollar flnp goal fund pay living expense expense increase inflation goal expressed constant purchasing power essential expense projected dollar year cover preferred fund extend expected lifespan say year fnl note living expense fixed fluctuate time goal purchase annuity continue pay living expense client outlive estimated life span estimated cost annuity example denominated dollar constant purchasing power preferably determine portfolio bond produce cash flow satisfy goal portfolio include actual bond purchased market standardised bond used construct economic model estimate expected return variance bondcovered expense asset general basing estimate similar bond market place making adjustment move observed bond standardised bond example cash flow fifteen year mortgage liability modelled portfolio coupon government bond face amount maturing year addition liability goal client typically investment noninvestment asset collect data type asset preferably proxy non investment asset investment asset similar property example client security earned annual social security benefit paid commencing year plan selling home year moving condo freeing cash social security benefit house sale generate cash flow amount increase line cpi index proxied position cpilinked bond produce cash flow client restricted liquidation investment asset example client employer sponsored fund invest specific mutual fund client stock employer sell year client adopted policy invest equity equity investment small cap stock preferably analyse scenario client holding portfolio short position bond represent goal long position asset data portfolio assembled form required markowitz equivalent method markowitz method applied determine efficient frontier taking account property asset claim including noninvestment asset fig discussed prior application depict investment opportunity personal investment opportunity tradeoff percent annual return percent valueatrisk annum fig illustrative data covariance ratios exercising markovitz method similar analysis risk reward fig period beginning retirement illustrate hypothetical change mix investment noninvestment asset illustrated dramatic transition retirement data entering problem time employment income markowitz method applied determine efficient frontier time point efficient portfolio data tabulated etr expected return time risk level dtri fraction portfolio wealth invested asset portfolio selected markowitz method risk time comparing dtrl dtlri portfolio required risk level time risk level time involve cost form brokerage commission taxe realised capital gain calculate cost kgtrlr cost risk level time risk level time unrealized capital gain portfolio time prior making portfolio adjustment constant purchasing power goal resource future date adjusted inflation indexe explained prior application educational cost index rise quickly consumer price index inflation index suppose inflation index time convert goal denominated dollar constant purchasing power actual dollar multiplying priority class sum goal total desired spending time stxp total desired spending time dollar priority level cumulative spending required priority class higher priority classe example combined mortgage essential preferred living expense above inflationadjusted applied constant purchasing living expense amount stx suco suu cstx stx definition cumulative spending priority csuu uucy denote utility spending dollar satisfy goal time define reasonable utility classe reasonable choice utility function intended express idea stx minimum spending level met spending cstxl bring limited reward suppose txl suppose cstxt cstxtl observe utility function constant constant utility function lead investment decision fig depict example logarithmic utility function keyed example generally making utility barely achieving missing essential goal negative prohibitive multiyear summation utility course form utility function applied range utility function discussed kenny raiffa decision multiple objective wiley york tabulated illustrated chapter kenny include tabulation illustration chapter incorporated reference form utility function selected influence strategy selected addressing retirement planning prudent evaluate utility time discounting low discounting rate sacrifice financial security age favour consumption course discounting factor applied utility time urge caution year planning horizon suppose wealth time choose spend fraction utility sequence decision inflation indexe ufiwsumj point time interested variable wealth time gtthe embedded unrealized capital gain rtthe risk chosen bear time itthe inflation index time variable defining state world grid dimension world reasonable reduce finite number state fig graphically depict twodimensional grid applied wealth time note grid rectangular initial grid initially refined grid resolution narrower range refine search example wealth grid point unrealized gain grid point reasonable risk grid point reasonable inflation index time set grid point point nlnnn correspond wgri value grid result world state illustration gridding efficient efficient gridding reduce number point reducing accuracy calculation reduce total computation time required reach level accuracy planning server control action recommendation module utilise portfolio goal market information develop recommended strategy dynamic optimization problem solved bellman algorithm discussed below apply bellman algorithm point girded state space asset return model calculate pplpt probability state time state time spent fraction wealth time example suppose imply risk risk time implied embedded gain implied spend swt incur cost ktrlrg net amount xlsktr lrg invest investment return required reach probability achieving return normal probability plnwtletrlrl pxm probability nms probability transition coordinate calculated similarly define function jtp utility state time choosing spend fraction spt amount spend time state function defined backward recursion jtpsutipswp sptl suppose jtp spt defined define jtlp sptl follow maximise sump ppptl jtpspt sptl found jtlp maximised value gridding state space evaluating alternative strategy tpoptimal fraction consume time ptp tpoptimal investment risk time ptp particular taking tnow pcurrent state recommended consumption risk current period subtract cash consumed noninvestment cash inflow current period result positive cash contribution portfolio saving result negative cash withdrawal portfolio perform markowitz portfolio construction match recommended risk budget planned cash contribution withdrawal limit transaction cost result optimal portfolio consistent long term strategy desired simulate forward time applying optimal strategy defined above result range outcome strategy system determining control strategy introduction section describe strategy creation module operating planning server module invoked cash flow planning portfolio construction approach build asset liability management embodiment analysis performed asset class level claim define investment benchmark locked resource which include noninvestment resource constitute fixed part resource allocation unlocked resource varied investible asset determine efficient frontier term investment opportunity based investment opportunity ratio wealth goal pick risk budget select investment frontier portfolio risk budget portfolio expressed efficient frontier defined resource select portfolio investment resource map account structure determine asset class allocation account multiple funding pool present adjust component analysis reflect pool structure residual segregated pool flowed personal pool personal pool household pool managed aggregated basis reflecting current funding claim pool assume wealth building goal adjoined problem resource exceed funded claim utility result wealth accumulation method include data assembly data case economic database advisor database prior analysis collected transformed required form data time varying data summarised current long term mean investment opportunity set portfolio construction problem solve risk aversion risk aversion determine end efficient frontier define investment opportunity set analysis performed current condition long term condition current creditor evolve investment opportunity revised strategy lookup table result offline dynamic optimizer risk budget based investment opportunity current ratio wealth goal cost pool level investment structure determine investment structure pool level repeat investment opportunity optimization adjustment risk aversion match risk budget fixed strategy lookup account level investment structure result translated account level datacube required stage advice creation portfolio construction created data input begin describing data support method prior analysis client describe resource claim typically response structured interview asset description length prior application resource claim balanced iteratively feasible problem resource sufficient meet essential need fig illustrate graph claim cash flow summary balancing goal datacube prepared cash flow projection datacube datacube hold cash flow projected cash flow manager module advisor database data table alpha forecast set table table assign owner set alpha forecast owner software creator enterprise business unit advisor case ownership determine edit privilege data default data viewed owner organisational subordinate owner field type content forecast set identify set forecast owner edit data alpha forecast table table hold expected return tax band field type content forecastset identify set forecast date date data date asset asset order int index assigned asset exempt alpha cent expected pre tax return annual cent low alpha cent expected low tax rate return annual cent medium alpha cent expected medium tax rate return annual cent alpha cent expected tax rate return annual cent data interface casedao data object support method strategyo return strategy applicable case default isi release alphasrate return vector expected return case supplied tax rate band default strategy set release value rate include exempt low medium high hasriskquestionaireo return true risk questionnaire riskiimitationo return true risk questionnaire impose limitation questionnaire limit losso return true questionnaire limit loss false limit volatility questionnairelimit limit supplied questionnaire economic database tax band table table map income level marital status tax band field type content strategy strategy date date data date status code marital status income currency maximum income band band code tax band typical value band exempt low medium high strategy parameter table system built adaptable system computational precision evolve table hold miscellaneous parameter required implement strategy field tvpe content strategy strategy date date data date risk infinity float risk aversion considered infinite risk risk scaling float risk scaling factor return scaling float return scaling factor wealth ratio float wealth ratio scaling factor maximum iteration int maximum number iteration solver stop criterion float convergence test solver ops infinity float representing infinity optimizer ops strategy policy table table hold investment policy policy field type nullabk content strategy strategy date date data date type policy type string identifier field flag boolean boolean field float field value float field value float field asset style association table socalled asset style associate friendly name generic asset cryptic analyticalsounding name table hold style identifier generic asset field type content strategy strategy date date data date style style asset asset asset property table table hold property generic asset referenced asset style table including userestablished bound concentration portfolio asset field nullable content strategy strategy date date data date asset asset order int index assigned asset sheltered boolean true tax sheltered false investment boolean true investment asset false liquidity horizon int asset considered liquid asset horizon year null liquid asset horizon lower cent lower limit holding upper cent upper limit holding asset covariance table table hold asset asset covariance value generic asset asset property table field type content strategy strategy date date data date asset row asset asset column asset row int row index column int column index exempt float covariance tax exempt case monthly decimal low float covariance low tax rate case monthly decimal medium float covariance medium tax rate case monthly decimal float covariance tax rate case monthly decimal strategic opportunity table table map integer tuple representing discrete point riskreturn integer code termed opportunity value point extrema efficient frontier opportunity identify frontier member set frontier field content strategy strategy date date data date low risk int coordinate lowjreturn int low return coordinate risk int risk coordinate return int return coordinate opportunity int opportunity strategic opportunity table table hold dynamic strategy field type content strategy strategy date date data date horizon int investment horizon initialopportunity int initial opportunity opportunity int long run opportunity primaryratio int primary wealth ratio secondary ratio int primary wealth ratio additional ratio int primary wealth ratio risk budget cent risk budget annual cent nsumption budget cent consumption budget annual cent data interface strategydao support method constructorstrategy constructed strategy return value pertinent strategy aversion infnity return riskinfinity strategy parameter table opsinfnity return optimimizerinfmity strategy parameter table riskscaling return riskscaling strategy parameter table returnscaling return returnscaling strategy parameter table wealthscaling return wealth ratio strategy parameter table taxbandincome maritalstatus return tax band income level constant dollar reflect indexing marital status based tax band table policy return list investment policy strategy policy table universe return ordered list asset strategic investment universe asset property table sheltered return vector zeros sheltered asset unsheltered asset zero value set based asset property table investment return vector zeros investment asset noninvestment asset zero value set based asset property table lower return vector lower bound asset holding value based asset property table null value represent ops strategy parameter table upper return vector upper bound asset holding value based asset property table null value represent ops strategy parameter table covariancerate return monthly decimal covariance matrix tax rate opportunityrisklalphalriskalpha integer riskl risk alphal alpha return opportunity strategy opportunity table return exact found pull supplied coordinate boundary precalculation grid supply value strategyhorizoninitialopportunityfinalopportunityprimaryratiosecondaryrat ioadditionalratio return tuple risk budget consumption budget based input value strategy table supply exact match found pull boundary strategy optimizer strategy optimizer extend portfolio optimizer adding generic capability exercise capability implement shelter cash constraint general purpose facility suppose number asset investment universe optimizer supply lower vector size upper vector size policy matrix size penalty matrix size assume represent holding weight optimal portfolio auxiliary decision variable dimension define effect supplied data add constraint problem term objective note auxiliary variable effectively eliminated problem efficient implementation avoid introducing phony variable application make application general purpose facility shelter constraint functionality add single equality constraint penalty word supplied data vector dimension scalar impose constraint refer shelter constraint asset sheltered asset otherwise called shelter ratio interval cash constraint lower bound constraint supplied data infer element equal penalty variable constraint data assembly configuration case data return strategy name represent strategy locked position account managed advised determine locked nontradable position follow merge list global asset lock list account level asset lock lock conflict restrictive scan merged list asset appear list apply lock position asset account finally scan list position level lock account apply them case conflict restrictive lock determination trading restriction restrictive made referencing lookup table field type content restriction code trading restriction restriction code trading restriction finalrestriction code final trading restriction output datacube lot level lock detail datacube locking status lot field type content family family entity entity account account asset asset lot lot global lock code global lock accountlock code account level lock positionlock code position level lock conflict boolean true conflict lock setting finallock code final lock balance sheet projection planning horizon cash flow manager tally estimated investment account year plan field type content family family entity entity account account point int year int currency planned account basis currency estimated basis account tally estimated balance year noninvestment resource field type content family family entity entity resource resource point int year int currency estimated resource finally estimated balance sheet claim priority class combination field type content family family entity entity priority priority class point int sequence number year int currency estimated higher priority class value incremental value total value priority classe data extracted output cash flow manager module output value future point time value used rule apply investment account house otherwise provided expected cash flow example human capital social security claim suppose expected cash flow time item calculate balance sheet time discount factor discount rate valuing type flow tax band describe streamlined tax treatment readily upgraded cash flow manager expected human capital contribution year account sum value individual account total consideration interest flowing account setting estimated taxable income equal define deflator roughly compensate tax model indexing compare deto marital status tax band table current tax band average averaged deflated estimated taxable income adet marital status tax band style calculation calculate current style resource claim locked resource funding pool addition collect information taxability tax basis description calculated funding pool level built stage first summarise individual investment account then summarise individual funding pool next calculate implicit wealth transfer pool finally summarise pool taking transfer account decomposition balance sheet item resource investment asset controlled investment locked controlled investment unlocked controlled investment uncontrolled investment noninvestment resource claim interesting aggregate locked resource consist resource subject advisor control uncontrolled investment noninvestment resource investment distinguish taxsheltered regular taxable asset interested aggregate taxable sheltered investment control locking status pool level distinguish direct resource claim due item pool indirect resource claim due interpool transfer aggregate direct indirect item full item capture concept notation investment account account time asset style weight strategy calculated style value portfolio base account account managed advised position locked set note multiple position otherwise set account sheltered current taxation otherwise basis position define locked unlocked the asset lot position investment locked unlocked taxable basis time estimated account set account taxable estimated basis account balance sheet projection account taxable output datacube account level lock summary datacube summary lock account level field type content family family entity entity account account time sequence time controlled boolean true account managed advised sheltered boolean true sheltered current taxation currency portfolio base lockedyalue currency part base locked unlockedjvalue currency part locked basis currency basis unlocked taxable position account level style summary style account level field type content family family entity entity account account strategy strategy style style full weight float weight style strategy scheme locked weight currency locked weight style strategy scheme unlocked weight currency unlocked weight style strategy scheme preliminary pool analysis iterate list funding pool funding pool attached list investment account list noninvestment resource list claim account account sheltered otherwise account controlled otherwise time account basis define pool account level investment taxable basis time noninvestment resource supply member function strategicstyle strategy return style vector strategy calculated style noninvestment resource fractional membership pool estimated balance sheet point priority class point funding ratio class set define pool total locked resource total resource number funding pool follow number pool principal principal segregated pool denote parent pool undefined segregated pool linked principal otherwise max excess pool residual segregated pool principal pool adjusted principal pool excess finally adjusted household pool set define resource transfer coefficient similarly define transfer coefficient transfer coefficient describe flow resource child parent parent child output datacube pool transfer weight datacube basic data interpool transfer field type content family family entity entity strategy strategy pool pool time int sequence time parent parent pool household wealth currency pool wealth transfer currency wealth transfer resourceweight float resource transfer weight weight float transfer weight pool transfer matrix datacube full transfer matrice field type content family family entity entity strategy strategy parent parent pool child child pool time int sequence time resourceweight float resource transfer weight tjt weight float transfer weight consolidate funding pool pool time define tjtv vopj osj vipj tjtv vopj vipj lpj vopj vipj wpj jtw tpj jtt bpj jtb output datacube pool summary datacube basic data pool field type content family family entity entity pool pool time int sequence time allresource float resource f^pj alllocked float locked resource alljunlocked float unlocked resource taxable float controlled taxable resource allbasis float basis controlled taxable resource allclaim float net float allresource minus direct resource float pool direct resource direct locked float pool direct locked resource lpt directunlocked float pool direct unlocked resource vop direct taxable float pool direct controlled taxable resource tpt directbasis float pool direct basis controlled taxable resource bpt direct float pool direct direct net float direct resource minus direct time averaged pool summary define time averaged pool define basis ratio denominator nonzero ppt otherwise time averaged basis ratio defined sheltered ratio defined tpj spj time averaged shelter ratio tsp output datacube pool summary time averaged pool parameter field type content family family entity entity strategy strategy pool pool currency current meanjvalue currency taxed currency current taxed taxed currency taxed basis ratio float current basis ratio basis ratio float basis ratio shelterratio float current shelter ratio spt shelter ratio float shelter ratio jpj liquidity requirement characteristic define weight year follow year weight period correspond current partial year controlled account planned cash flow account year dollar cash flow plan sign negative value correspond outflow pool planned flow summed controlled account pool sheltered planned flow summed controlled sheltered account pool define direct liquidity demand schedule define full liquidity demand schedule output datacube pool liquidity demand datacube direct full liquidity demand pool field tye content family family entity entity strategy strategy pool pool year int time year direct liquidity demand directunsheltered currency unsheltered account direct liquidity demand directsheltered currency sheltered account direct liquidity demand full unsheltered currency unsheltered account fld direct liquidity demand full sheltered currency sheltered account fld set liquidity vector number asset classe asset characteristic table liquidity horizon asset set liquidity matrix sheltered sheltered investment horizon account level cash flow investment account year starting account define max set solve equation remark internal rate return flow discounted flow weighted average timing flow average investment horizon account max pool level pool sum controlled investment account pool solve equation discounted flow weighted average timing flow average investment horizon pool wealth ratios pool direct resource pool sum direct indirect resource liability primary goal pool incremental secondary goal incremental additional goal quantity refer funded amount pool pool wealth ratio scaling coefficient define term quantity wealth ratios analysis determine investment structure pool level detail translate result account level detail pool level investment structure analysis pool level proceed iteration pool descending order process segregated pool personal pool finally household pool child pool processed parent pool processed recommended structure child pool determined portion transferred parent locked component parent allocation final style calculation anticipate ultimate result pool previously calculated constrained optimal weight vector style vector investment asset pool current pool time similarly define define output datacube pool style datacube style vector attached pool field type content family family entity entity pool pool strategy strategy time int sequence time style style allresource float resource style weight alllockedresource float locked resource style weight unlocked resource float unlocked resource style weight float style weight directresource float direct resource style weight direct locked resource float direct locked resource style weight directunlockedresource float direct unlocked resource style weight direct float direct style weight define time averaged style weight output pool style datacube time averaged pool style field type content family family entity entity pool pool strategy strategy style style locked resource float locked resource style weight float style weight investment opportunity unlocked pool zero skip pool otherwise perform portfolio construction based current value time averaged value set portfolio construction optimization follow investment universe universe set generic asset style appearing strategy style scheme set provided strategydaoinvestrnentuniverse initial holding current time optimization current resource style weight pool long term optimization optimal weight current optimization benchmark style weight pool time alpha casedao based tax band current long term mean asset bound locked weight style time lower upper bound style strategydao define effective lower upper bound covariance matrix strategydao based tax band current long term mean asset style sector region exposure economic database securitydao asset price equal asset lot wash sale used trading restriction apply asset classification used sheltered vector provided strategydao sheltered sheltered ratio pool summary datacube liquidity requirement liquidity vector fldp liquidity matrix define constraint optimal solution risk aversion uncontrolled weight locked style full resource divided controlled both time define define nsk advisor database risk questionnaire supply limit islosslimit true otherwise define set set empty pick minimise set define strategy scaling factor advisor database define coordinate tuple strategic opportunity table from advisor database denote resulting opportunity value risk questionnaire tuple denote result tuple risk questionnaire generate datacube pool opportunity datacube investment opportunity pool field type content family family entity entity pool pool time int sequence time currentfullopportunity int opportunity current data current constraint satisfied boolean true risk questionnaire current data current constrained opportunity int opportunity current data longtermfullopportunity int opportunity data true risk questionnaire longtermconstraintsatisfied boolean data longtermconstrainedopportunity int opportunity data strategy lookup collect data full opportunity constrained opportunity adjusted investment horizon initial opportunity opportunity wealth ratio wealth ratio wealth ratio data key retrieve risk budget consumption budget current year strategydao pool denote risk budget full opportunity constrained opportunity similar indexing consumption budget output datacube pool strategy datacube strategy pool field type content family family entity entity pool pool horizon float pool level investment horizon primaryjatio int wealth ratio secondary ratio int wealth ratio tertiaryratio int wealth ratio full risk budget fullriskbudget float current year full consumption budget fullconsumptionbudget float current year constrained risk budget constrainedriskbudget float current year constrained consumption budget constrainedconsumptionbudget float current year pool level asset allocation pool repeat investment opportunity optimization adjust risk aversion match supplied full risk budget denote optimal return optimal holding constrained budget different perform optimization case denote return holding set output datacube pool property datacube property optimal pool portfolios field type content family family entity entity strategy strategy pool pool fullrisk float full risk budget refer dynamic law governing particle general seek function control action taken decision control action depend information time dynamic law interest general past history particle relevant control action summarised current state interested function denote control action time refer function control policy denote set policy denote position time particle controlled policy particle started position time random variable distribution controlled dynamic law suppose utility function utility suppose weight function weight importance time moment define utility function expectation operator optimal stochastic control problem policy word starting state seek control policy lead trajectory particle time highest expected utility define jxx ecx word maximum expected utility starting pick time key aspect stochastic control problem policy follow policy follow particle commence motion define iess action optimal policy time refer phi optimal policy similarly define expected utility particle governed optimal policy commencing motion general function key item seek solve for applying suitable regularity condition state definition optimal policy expected utility partial differential equation simple interesting problem pde analytically tractable general however resort numerical technique solution route numerical solution apply standard numerical technique solution pde approximate continuous time problem discrete time problem method ultimately reduce solving family difference equation grid reasonable regularity condition solution grid problem converge grid refinement continuous time problem convergence delicate affair numerically taking approach discretizing problem preserve insight problem solution help solve problem numerical convergence accordingly route discrete time stochastic control problem discrete time problem divide interval point simplest case equal time division del tat tin iat generally write del similarly discretize state space usual process pick bounded subset particle surely bounded subset time dissect bounded subset finite collection cell represent cell midpoint consider particle restricted occupying point dynamical law take form probability particle time point previous moment control action taken dynamical law requirement solution discrete problem converge solution continuous problem dynamical law converge long discrete dynamical law good approximation continuous law however convergence occur instance discrete law approximate cell transition frequency calculated continuous law freedom arranging approximation important route tractability point time continuous process probability particle escape bounding box however discrete process allowed final point discrete process choice behaviour boundary popular choice behaviour boundary include sticking the escaped returned boundary reflection the particle bounce boundary halting process physical intuition suggest proper treatment instance conservation energy suggest stickiness conservation momentum suggest reflection breakdown model correspond halting long bounding box state space chosen sufficiently large arriving boundary low probability event choice boundary behaviour critical convergence choosing boundary behaviour consistent underlying continuous time model however minimise injection numerical noise discrete solution lead behaved solution point physical insight brought bear summarise data discrete problem time point grid space point control space probability law utility function expected utility function control space point posit time control space prism real vector space bounding vector possibly depending time inequality operator component wise mean slightly generalise time weighting function allowing depend initial time actual time represent data problem data structure class controlproblei public virtual controlproblem float horizon time horizon int space dim dimension state space int control dim dimension control space int timeslice return number discrete time point int state int return number space state time vector lower control int lower bound control time vector uppercontrol int upper bound control time vector point return coordinate point state space float transition int int int vector return probability control float utility vector utility state time float weight weight function time problem base class specific problem derived solution problem consist optimal policy expected utility represent data structure class controlsolution private int time number time point vector state number state time matrixvector control control indexed time state matrix utility utility indexed time state assertvalid int time int state cheque time state combination public controlproblem int notime vector nostate jzimeno time statevirtual controlproblem void store int time int state vector control float utility vector control int int optimal control action time occupancy float utility int int expected utility state class report index violation class invalidstateexception public exception private int time state public invalidstateexception int time int state invalidstateexception std string message const bellman algorithm apparent complexity optimal control problem amenable solution technique bellman algorithm algorithm remark optimal solution interval restricted interval identical solution control problem start move progressively build solution problem starting time required implement algorithm method solving single time period problem finding optimal control time supposing problem solved subsequent time refer problem specific suppose found optimal control applied time state time state valid time expected utility resulting optimal policy started time state problem time state control maximise sum state defined time case computer term problem solver supposed derive base class class controlsubproblemsolver public virtual controlsubproblemsolver void set problem controlproblem supply problem void setknown int const controlsolution &known supply void calculate int vector &control float &utility time bellman algorithm encapsulated class class bellmansolver private controlsolution solution public bellmansolver controlproblem controlsubproblemsolver bellmansolver void calculate assetliability management problem specialise specific control problem provide metric formulation make problem solvable reasonable computation investor managing fund meet schedule liability payment control include investment risk borne investment cost incurred allocation fund liability payment utility policy measured success funding liability state space problem contained state vector denote investor wealth time represent investor basis fraction wealth represent cpi index normalised intuitive notation wit lit wealth basis fraction inflation index respectively note lit potentially unbounded fixed easy pick bound wit lit probability state space effectively rectangular prism control space subset control vector denote investor funding liability time denote fraction ofturnover time investor investment risk time denoted fraction lie fact general ait bit suitable function ait bit describe investment opportunity time liability suppose liability schedule form level correspond priority classe spending essential spending representing essential representing essential spending itwit expenditure liability time suppose set tilde define utility spending utility function describe spending policy exceed decreasing utility increased spending choice utility function arbitrary motivated primarily solution rise utility function policy word time weighting function identically one imply benefit shifting spending period derive dynamic min denote capital gain tax rate time turnover occur result trade volume fatwt gain tax twt addition basis reduced btwt payout occur tax payout complete remaining wealth addition left net proceed reinvest basis suppose earn return rit period note requirement observation motivate introduction constraint take form simpler form work with embodiment invention include system interact closely hardware element method executed system system method viewed perspective system server generate strategy recommendation interacting system invention embodied manufacture media impressed programme logic generate strategy recommendation generation strategy recommendation generally extended simulation outcome resulting strategy recommendation solar car embodiment disclosed planning server selecting control action solar car race establishing control action policy control action policy array control action solar car find state combination battery charge position immediately solar power which depend uncertain weather condition time day position subdivided equal length segment segment similar slope subdivision subdivide segment based maximum distance time transit sufficient computing resource segment subdivided metre increment less planning server repository electronic data include current resource information future goal information performance opportunity information resource replenishment risk information current resource information include battery charge level future goal information include information minimum battery charge level performance opportunity information include power consumption convert distance travelled time performance opportunity take account variation slope and optionally account head wind resource replenishment risk information reflect solar power impacted time day weather such shaded areas resource replenishment separately account time solar car aerodynamically efficient configuration time solar car parked solar array oriented directly sun planning server include alternative resource holding generating module problem initiation module control action recommendation module alternative resource holding generating module accesse future goal information performance opportunity information resource replenishment risk information determine risk return alternative resource holding predetermined planning horizon risk relate remaining battery charge expected weather risk impact resource replenishment solar power performance expected head wind point course risk reward precomputed simulation run efficiently planning server include problem initiation module accesse data compilation module establishes grid span subdivide dimension problem effectively convert continuous problem discrete problem amenable numerical algorithm alternatively dimension grid continuous grid dimension include time horizon analysis range resource replenishment risk level potential resource level range consumption level preferably potential resource level include resource cushion level end planning horizon close finish line expected weather condition virtually certainty information data compilation hard coded system generate grid optionally subject revision user problem initiation module output grid output object stored memory persisted nonvolatile memory handful parameter passed module control action recommendation module accesse grid generated problem initiation module risk return generated alternative resource holding generating module data compilation control action recommendation module perform evaluation time horizon recommend control action adviser automatically implemented module time time horizon resource value control action recommendation module evaluate control action select consumption level risk level risk level selected range risk level evaluation control action combine utility resulting consuming power and fast longterm expected utility result achieved set control action utility relate segment grid typically kilometre less longterm expected utility result expresse utility point forward end time horizon longterm expected utility summation segment end time horizon preferably calculation proceed end time horizon backward longterm expected utility value period calculating expected utility value control action earlier period longterm utility value expressed expected utility value result control action involve applying probability distribution function determine future outcome embodiment utility failing time time horizon running power prohibitive logarithmic utility function scaled running power infinitely negative utility continuous function steep slope point barely move solar car make prohibitive fail satisfy goal rule assign infinitely negative utility missing essential goal effect shape utility function elsewhere prohibitive encountering remote probability missing essential goal time time horizon utility time horizon lower favourable utility course action threshold probability missing essential goal control action recommendation module output recommended control action beginning period analysis control action immediately result analysis control action include consumption level portfolio risk level optionally control action linked module refine control action term asset control action linked module automatically implement control action aspect invention control strategy evaluation system include planning server embodiment planning server control recommendation module output control strategy data cube include control strategy selection consumption level selection portfolio risk span dimension grid control strategy data cube include recommended consumption risk level spanning time horizon resource value found grid control strategy evaluation system include simulation server accesse control strategy data cube conduct probabilistic simulation run time horizon simulation run apply control strategy simulated intermediate economic event report distribution simulated outcome simulation server perform probabilistic simulation run probabilistic simulation run probabilistic simulation run order generate statistically significant distribution outcome portfolio planning embodiment disclosed planning server selecting control action multiyear planning setting year planning setting treated year subdivided month week sufficient computing resource period subdivided week day planning server repository electronic data include portfolio information goal information market information portfolio information include plurality investment non investment resource multiple time period goal information include plurality time repeating expenditure goal level priority span essential nonessential expenditure goal preferably priority level include essential target aspirational goal additional level goal selection goal continuum express goal information individual goal payment living expense broken part represented partially essential goal partially priority level market information include estimate investment opportunity risk reward covariance ratios asset covariance ratios calculation statistical portfolio asset mixed characteristic information planning server treated part environment technology disclosed practical application alternatively server host portfolio goal market information combined planning server describe system planning server include alternative portfolio generating module problem initiation module control action recommendation module alternative portfolio generating module accesse data compilation calculate alternative diversified risk portfolios range risk level time time horizon risk level expressed term variability return such statistical variance valueatrisk alternative portfolios selected applying variation markowitzs classical method equivalent approach portfolios produce greatest return degree risk efficient frontier optionally alternative diversified portfolio calculation account covariance ratios investment noninvestment resource mix investment non investment resource change preference alternative portfolios change calculation alternative diversified portfolios account asset liquidated redeployed asset locked position calculation account initial condition portfolio risk level embedded gain initial portfolio risk level extent turnover required reach alternative risk level embedded gain tax realised due extent turnover planning server alternative portfolio generating module extend selecting asset hold liquidate additional module deal asset combined portfolio generating module interacting data compilation alternative starting condition risk level embedded gain alternative portfolio generating module persist storage set portfolios represented risk return curve evaluation selection alternative control action optionally starting condition include standardised portfolio asset correspond noninvestment locked investment portion portfolio planning server include problem initiation module accesse data compilation module establishes grid span subdivide dimension problem effectively convert continuous problem discrete problem amenable numerical algorithm alternatively dimension grid continuous grid dimension include time horizon analysis range risk level potential resource level range consumption level meet essential goal information data compilation hard coded system generate grid optionally subject revision user potential resource value optionally include investment noninvestment resource noninvestment resource satisfy goal instance salary social security benefit included resource consumption level optionally expressed ratio resource combined resource value problem initiation module output grid output object stored memory persisted nonvolatile memory handful parameter passed module control action recommendation module accesse grid generated problem initiation module risk return function generated alternative portfolio generating module data compilation control action recommendation module perform evaluation time horizon recommend control action adviser automatically implemented module time time horizon resource value wealth control action recommendation module evaluate control action select consumption level risk level consumption level ratio selected range ratios risk level selected range risk level evaluation control action combine utility resulting consumption longterm expected utility result achieved set control action utility relate time typically current period analysis period longterm expected utility result expresse utility point forward end time horizon longterm expected utility summation period end time horizon discounting future utility optional preferably calculation proceed end time horizon backward longterm expected utility value period calculating expected utility value control action earlier period longterm utility value expressed expected utility value result control action involve applying probability distribution function determine future outcome level risk reward portfolio expressed expected gain subject variance gain variance parameter typically applied normal distribution outcome discrete case discrete variation normal distribution applied optionally ignoring tail distribution predetermined threshold embodiment utility failing time time horizon satisfy essential expenditure goal prohibitive logarithmic utility function scaled meeting barely meeting funding level required essential goal infinitely negative utility continuous function steep slope point barely funding essential goal make prohibitive fail satisfy goal rule assign infinitely negative utility missing essential goal effect shape utility function elsewhere prohibitive encountering remote probability missing essential goal time time horizon utility time horizon lower favourable utility course action threshold probability missing essential goal control action recommendation module output recommended control action beginning period analysis control action immediately result analysis control action include consumption level portfolio risk level optionally control action linked module refine control action term asset control action linked module automatically implement control action aspect invention control strategy evaluation system include planning server embodiment planning server control recommendation module output control strategy data cube include control strategy selection consumption level selection portfolio risk span dimension grid control strategy data cube include recommended consumption risk level spanning time horizon resource value found grid control strategy evaluation system include simulation server accesse control strategy data cube conduct probabilistic simulation run time horizon simulation run apply control strategy simulated intermediate economic event report distribution simulated outcome simulation server perform probabilistic simulation run probabilistic simulation run probabilistic simulation run order generate statistically significant distribution outcome embodiment disclosed computer implemented method selecting control action multiyear planning setting year planning setting treated year subdivided month week sufficient computing resource period subdivided week day method include accessing electronic data compilation portfolio information goal information market information portfolio information include plurality investment noninvestment resource multiple time period goal information include plurality time repeating expenditure goal level classe priority span essential nonessential expenditure goal preferably priority level include essential target aspirational goal additional goal selection goal continuum express goal information individual goal payment living expense broken part represented partially essential goal partially priority level class market information include estimate available investment opportunity risk reward covariance ratios asset covariance ratios calculation statistical portfolio asset mixed characteristic information method operate treated part environment method practical application alternatively embodiment aspect compiling data part method method begin accessing data compilation calculating alternative diversified risk portfolios range risk level time time horizon risk level expressed term variability return such statistical variance valueatrisk valueatrisk approach taken valueatrisk level expressed percentage resource risk predetermined probability predetermined confidence level predetermined atrisk period alternative portfolios selected variation markowitzs classical method equivalent approach portfolios produce greatest return degree risk efficient frontier optionally alternative diversified portfolio calculation account covariance ratios investment non investment resource mix investment noninvestment resource change preference alternative portfolios change calculation alternative diversified portfolios account asset liquidated redeployed asset locked position calculation account initial condition portfolio risk level embedded gain initial portfolio risk level extent turnover required reach alternative risk level embedded gain tax liability realised due extent turnover method continue assigning grid spanning subdividing dimension problem effectively convert continuous problem discrete problem amenable numerical algorithm demand grid dimension include time horizon analysis range risk level potential resource level range consumption level meet essential goal information data compilation hard coded programme implementing method generate grid optionally subject revision user potential resource value optionally include investment noninvestment resource non investment resource satisfy goal instance salary social security benefit included resource consumption level optionally expressed ratio resource combined resource value grid output computer implemented module output object stored memory persisted nonvolatile memory handful parameter passed module method continue evaluating control action time time horizon combined resource value control action evaluated include selection consumption level selection risk level consumption level ratio selected range ratios selected control action adviser automatically implemented module evaluating control action combine utility consumption resulting chosen control action longterm expected utility result probabilistically expected achieved consequence chosen control action utility relate time typically current period analysis period longterm expected utility result expresse utility point forward end time horizon longterm expected utility summation period end time horizon discounting future utility optional preferably calculation proceed end time horizon backward longterm expected utility value period calculating expected utility value control action earlier period longterm utility value expressed expected utility value result control action involve applying probability distribution function determine future outcome level risk reward diversified risk portfolio expressed expected gain subject variance gain variance parameter typically applied normal distribution outcome discrete case discrete variation normal distribution selected distribution applied embodiment utility failing remote probability time time horizon satisfy essential expenditure goal prohibitive logarithmic utility function scaled meeting barely meeting funding level required essential goal infinitely negative utility continuous function steep slope point barely funding essential goal make prohibitive miss goal rule assign infinitely negative utility missing essential goal effect shape utility function prohibitive encountering remote probability missing essential goal time time horizon utility time horizon lower favourable utility course action threshold risk missing essential goal method include outputting beginning period control action select consumption level portfolio risk level result evaluating control action include consumption level portfolio risk level optionally control action linked module refine control action term asset call control action linked module automatically implement control action aspect method resource expenditure goal characterised current dollar constant purchasing power resource claim characterised way range inflation factor included grid probability distribution function established inflation rate sensitivity analysis provided inflation rate impact outcome depending embodiment consumption level stated percentage resource percentage investment resource unlocked investment resource combined investment noninvestment resource noninvestment resource include home employment income time period social security entitlement aspect method addresse taxable event practise aspect method portfolio information include embedded gain information method extended evaluating generation taxable gain due portfolio activity rebalancing liquidating asset tax liability resulting taking control action consumption risk level control action produce tax liability consumption typically require generation cash adjusting risk level portfolio typically require rebalancing embodiment noninvestment resource sold generate consumable resource method extended setting time span noninvestment resource sold taking account tax consequence selling noninvestment resource sometime sale noninvestment resource coupled purchase replacement noninvestment resource instance time selling family home paired purchase replacement home utility function logarithmic utility function scaled set negatively infinite utility satisfying failing satisfy essential goal time period potential utility function mentioned above alternative utility function apply rule control action produce probability predetermined threshold failing satisfy essential goal eliminated consideration rule combined variety utility function consumption range satisfy essential goal method extended outputting control strategy data cube including control strategy selection consumption portfolio risk level control strategy data cube span time horizon resource combined resource value grid control strategy data cube consumed simulation engine control strategy data cube conduct simulation run time horizon distribute generate distribution outcome simulation engine report distribution outcome embodiment method generating recommended control action policy multiyear planning setting control policy realistically determined sery mental step beginning electronic data compilation current resource information future goal information market information method embodiment combined feature aspect method server above repeat here incoroporate reference current resource information investor include input describing investment human capital housing resource future goal information investor include goal repeating onetime expense date retirement hold sell housing resource goal information categorise goal essential nonessential market information include estimate investment opportunity risk reward covariance ratios method begin electronically calculating return alternative diversified portfolios include investment resource human capital housing resource calculating return identify preferred portfolio mixe return range risktaking level return human capital housing resource alternative diversified portfolios accommodate satisfy goal retirement age holding selling housing resource set investor method include setting computersolvable problem including assigning grid spanning subdividing dimension dimension include time horizon potential resource value investor portfolio range spending level range risktaking level range spending level satisfy essential goal applied satisfy investor nonessential goal method proceed working backward time horizon generate control action policy computer evaluate potential control action time resource value grid select recommended control action time resource value control action set spending risktaking level time spending risktaking level time resource value combined control action policy evaluating potential control action include calculating utility spending risk taking level utility specific time resource control action spending risktaking level combine utility specific time spending expected future utility end time horizon future spending risktaking level utility calculation recognise greater utility satisfying essential goal satisfying nonessential goal method output part control action policy time horizon potential resource value including recommendation spending risktaking level aspect method utility specific time spending needed satisfy essential goal essentially prohibitive embodiment planning server selecting control action multiyear planning setting server embodiment combined feature aspect server above repeat here incoroporate reference planning server repository electronic data include current resource information future goal information market information type information generally preceding method embodiment planning server include alternative portfolio generating module problem initiation module control action recommendation module alternative portfolio generating module accesse data calculate return alternative diversified portfolios include investment resource human capital housing level alternative portfolio generating module identify preferred portfolio mixe return range risktaking level return any human capital housing resource alternative portfolios applied satisfy goal set retirement age holding selling housing resource dictated investor problem initiation module accesse data establishes grid spanning subdividing parameter parameter include time horizon potential resource value investor portfolio range spending level above range risktaking level control action recommendation module accesse grid risk return alternative diversified portfolios utility function evaluate potential control action select control action policy setting consumption risk level based utility sery potential control action control action recommendation module work backward time horizon computer evaluate potential control action time resource value grid select recommended control action time resource value control action include recommendation setting spending risktaking level combination time resource level control action recommendation module compliance recommended control action control action policy evaluating utility specific time resource value control action recommendation module combine utility specific time spending future expected utility end time horizon future spending risktaking level utility calculation recognise greater utility satisfying essential goal satisfying nonessential goal control action recommendation module output part control action policy time horizon potential resource value including recommendation spending risktaking level aspect method include prior evaluating control action constructing resource claim analysis qualifying goal essential goal satisfied resource available addition balancing total resource claim problem solved qualified feasible constructing cash flow analysis comparing timing claim timing resource available invention disclosed reference preferred embodiment example detailed above understood example intended illustrative limiting sense computerassisted processing implicated embodiment contemplated modification combination readily occur skilled art modification combination spirit invention scope claim follow ","m_szGeo1":"United States","m_szSourceType":"source_patents","m_szSrcUrl":"http://www.freepatentsonline.com/WO2009049294A2.html","m_Places":["Oakland, Ca","Us","Rudd","Orinda, Ca","Diablo","Moon Bay, Ca","Along","Most","Merton","Java","Take","Monte Carlo","Wiley, New York","Ee","Tin"],"m_People":["Andrew W. Lo","Harry Markowitz","Robert C. Merton","M. Taksar","Martin B. Haugh","H. Raiffa","Del Ta"],"m_Companies":["Wolfeld Llp","Social Security","Theory","Maxwell's","Proceedings Of Royal Society","Optimizing","Apache","Microsoft","Netscape","Ira","Target","2020","About 2020 Wedding","About 2020","Basic Target","Prudential","Lifespan","Pool","Style Associations Table","Matrix","Boundary","Merge","Lot","Mean Pool","Ji","Gap","Boundaries"],"m_BiGrams":["control action","risk level","time horizon","expected utility","essential goal","noninvestment resource","cash flow","control strategy","resource value","planning server","utility function","solar car","action recommendation","recommendation module","goal information","investment opportunity","action policy","field type","type content","resource claim","potential control","consumption level","current resource","housing resource","risk reward","investment noninvestment","alternative diversified","potential resource","simulation run","content family","investment resource","range risk","time resource","module accesse","risk budget","data compilation","human capital","market information","covariance ratios","risk taking","taking level","satisfy essential","action time","generating module","investment structure","style weight","power consumption","future goal","diversified portfolios","end time","information include","problem initiation","initiation module","living expense","wealth ratio","control policy","satisfy goal","efficient frontier","solar power","application controller","portfolio risk","tax band","longterm expected","utility value","risktaking level","planning horizon","resource information","capital housing","nonessential goal","level time","risk information","risk return","non investment","embedded gain","portfolio generating","module output","locked resource","account level","planning setting","essential nonessential","value control","spending risk","utility specific","specific time","combine utility","consumption risk","social security","probabilistic simulation","distribution outcome","alternative portfolio","time day","bellman algorithm","purchasing power","missing essential","time state","pool level","strategy data","data cube","dynamic optimization","recommended control"],"m_TriGrams":["control action recommendation","action recommendation module","field type content","control action policy","potential control action","type content family","risk taking level","control action time","investment noninvestment resource","end time horizon","problem initiation module","future goal information","alternative diversified portfolios","longterm expected utility","current resource information","human capital housing","time resource value","portfolio generating module","capital housing resource","potential resource value","value control action","spending risk taking","utility specific time","range risk level","probabilistic simulation run","alternative portfolio generating","missing essential goal","control strategy data","strategy data cube","recommended control action","action time resource","selecting control action","control action utility","consumption risk level","module accesse data","expected utility value","portfolio risk level","grid spanning subdividing","time horizon potential","horizon potential resource","satisfy essential goal","evaluate potential control","strategy parameter table","resource style weight","spending risktaking level","multiyear planning setting","investment opportunity risk","opportunity risk reward","return alternative diversified","resource value control","resource replenishment risk","risk level time","control action select","recommendation module output","social security benefit","constant purchasing power","output datacube pool","estimate investment opportunity","risk reward covariance","reward covariance ratios","specific time spending","future expected utility","risk level potential","encountering remote probability","simulation run time","strategic asset allocation","statement resource claim","asset property table","float pool direct","expected utility result","infinitely negative utility","control action linked","action linked module","solar car race","resource future goal","goal repeating onetime","repeating onetime expense","resource goal information","assigning grid spanning","range spending level","computer evaluate potential","resource value grid","utility calculation recognise","utility satisfying essential","performance opportunity information","replenishment risk information","risk return alternative","alternative resource holding","potential resource level","action policy setting","policy setting consumption","utility sery potential","sery potential control","utility time horizon","run time horizon","evaluating control action","planning server selecting","server selecting control","control action multiyear","action multiyear planning"],"m_SocialTags":[],"m_Topics":[],"m_Industry":[],"m_Technology":[],"m_BiCnt":[155,53,51,38,36,33,33,33,32,31,29,28,28,27,26,25,24,23,22,21,19,19,17,17,17,17,16,16,16,16,15,15,15,15,15,14,14,14,14,14,14,14,14,14,14,14,13,13,13,13,13,13,13,13,13,12,12,12,12,12,12,12,12,12,12,11,11,11,11,11,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9],"m_TriCnt":[26,25,22,21,19,15,14,14,14,13,13,12,12,12,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,9,9,8,8,8,8,8,8,8,8,7,7,7,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"m_iDocBodyWordCnt":13483}
