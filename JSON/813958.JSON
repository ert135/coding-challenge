{"m_szDocID":"813958","m_szDocTitle":"BUILDING MANAGEMENT SYSTEM WITH FAULT ANALYSIS - Johnson Controls Technology Company","m_szYear":"2011","m_szDocSumamry":"textArticle -------------------- BUILDING MANAGEMENT SYSTEM WITH FAULT ANALYSIS United States Patent Application 20110178977 Kind                 Code: A1 Abstract: A controller for a building management system is configured to analyze faults in the building management system. The controller detects a fault in the building management system by evaluating data of building management system using a system of rules. The controller determines a conditional probability for each of a plurality of possible fault causes given the detected fault. The controller determines the most likely fault cause by","m_szDocBody":"building management system fault analysis united state patent application kind code abstract controller building management system configured analyse fault building management system controller detect fault building management system evaluating data building management system system rule controller determine conditional probability plurality fault detected fault controller determine fault comparing determined probability electronically report fault cause inventor dree kirk cedarburg application number talbot boettcher reference katipamula method fault detection diagnostic prognsotic building systemsa review part american heating refrigerating air conditioning engineer wong building automation century ieee pgs kastnerw communication system building automation control edelsonebuilding automation security office builiding elsevier pgs uraikul artificial intelligence monitoring supervisory control process system pgs martin supervisory control energy saving thermal comfort commerical building hvac system aaai technical report pgs tudoroiu fault detection diagnostic valve actuator hvac system ieee pgs shakeri optimal nearoptimal algorithm multiple fault diagnosis unreliable test ieee pgs claim computerised method analysing fault building management system method comprising computer building management system detecting fault evaluating data building management system system rule determining conditional probability plurality fault detected fault determining fault comparing determined probability electronically reporting fault cause method determining conditional probability plurality fault detected fault comprise accounting marginal probability occurrence fault marginal probability occurrence fault cause method determining conditional probability plurality fault detected fault comprise updating prior marginal probability fault fault cause applying baye theorem fault detected fault updated prior marginal probability method updating prior marginal probability comprise receiving feedback input module accuracy prior electronic reporting fault cause method determining conditional probability plurality fault detected fault comprise determining fault overlapping detected updating conditional probability overlapping cause method determining conditional probability plurality fault detected fault comprise recalling conditional probability detected fault fault memory method electronically reporting fault comprise causing indication fault displayed electronic display communication computer causing indication fault transmitted device remote source adding fault report detected fault method evaluating data building management system system rule comprise comparing current information building management system historical information building management system method comprising causing expanding data logging building management system method comprising data obtained expanded data logging update prior marginal probability fault fault cause applying baye theorem fault detected fault updated prior probability marginal probability method analysing fault building management system comprising supervisory controller building management system detecting fault evaluating data remote device building management system response detecting fault supervisory controller acquiring storing data building management system analysing detected fault data method data comprise variable received stored supervisory controller method acquisition storage data occur human intervention method analysing detected fault comprise conducting calculation estimate source fault method acquiring data comprise sending request remote device building management system data method acquiring data comprise receiving storing data point broadcast device building management system acquired stored supervisory controller method acquiring data comprise sending command remote device building management system method remote device generated data detection fault remote device generate data acquisition storing supervisory controller building management system comprising communication interface processing circuit configured receive data remote device building management system communication interface processing circuit configured detect fault evaluating received data processing circuit configured acquire store data building management system response detecting fault computerreadable media computerexecutable instruction embodied thereon executed computer system perform method analysing fault building management system instruction comprise instruction detecting fault evaluating data building management system system rule instruction determining conditional probability plurality fault detected fault instruction determining fault comparing determined probability instruction electronically reporting fault cause description crossreference related patent application application continuationinpart application ser filed jun claim benefit provisional application filed jun provisional application filed aug provisional application filed feb entirety application ser provisional application nos incorporated reference background invention relate generally field building management system invention relate system method conducting fault analysis building management system fault detection element building management system equipment fault increase energy consumption decrease equipment lifespan undesirable effect system today fault detection generate system alert drive diagnostic procedure overly sensitive fault detection nonexistent incorrect fault analysis lead excess number alert low priority lead false alert decrease system performance waste diagnostic resource simply user challenging difficult develop fault detection strategy building management system summary embodiment invention relate computerised method analysing fault building management system method include computer building management system detecting fault evaluating data building management system system rule method include determining conditional probability plurality fault detected fault method include determining fault comparing determined probability method include electronically reporting fault cause embodiment determining conditional probability plurality fault detected fault include accounting marginal probability occurrence fault marginal probability occurrence fault cause determining conditional probability plurality fault detected fault alternatively include updating prior marginal probability fault fault applying baye theorem fault detected fault updated prior marginal probability updating prior marginal probability include receiving feedback input module accuracy prior electronic reporting fault cause determining conditional probability plurality fault detected fault include determining fault overlapping detected updating conditional probability overlapping cause determining conditional probability plurality fault detected fault include recalling conditional probability detected fault fault memory electronically reporting fault include causing indication fault displayed electronic display communication computer causing indication fault transmitted device remote source adding fault report detected fault embodiment evaluating data building management system system rule include comparing current information building management system historical information building management system method include causing expanding data logging building management system method include data obtained expanded data logging update prior marginal probability fault fault cause method include applying baye theorem fault detected fault updated prior probability marginal probability embodiment invention relate method analysing fault building management system method include supervisory controller building management system detecting fault evaluating data remote device building management system method include response detecting fault supervisory controller acquiring storing data building management system method include analysing detected fault data embodiment data acquired stored supervisory controller embodiment acquisition storage data occur human intervention analysing detected fault include conducting calculation estimate source fault acquiring data include sending request remote device building management system data acquiring data include receiving storing data point broadcast device building management system acquired stored supervisory controller acquiring data include sending command remote device building management system embodiment remote device generated data detection fault remote device generate data acquisition storing embodiment invention relate supervisory controller building management system supervisory controller include communication interface processing circuit processing circuit configured receive data remote device building management system communication interface processing circuit configured detect fault evaluating received data processing circuit configured acquire store data building management system response detecting fault embodiment invention relate computerreadable media computerexecutable instruction embodied thereon executed computer system perform method analysing fault building management system instruction include instruction detecting fault evaluating data building management system system rule instruction include instruction determining conditional probability plurality fault detected fault instruction include instruction determining fault comparing determined probability instruction include instruction electronically reporting fault cause embodiment invention relate controller building management system controller configured analyse fault building management system controller detect fault building management system evaluating data building management system system rule controller determine conditional probability plurality fault detected fault controller determine fault comparing determined probability electronically report fault cause alternative exemplary embodiment relate feature combination feature generally recited claim description figure disclosure fully understood detailed description conjunction accompanying figure reference numeral refer element which fig block building manager connected smart grid plurality building subsystem exemplary embodiment fig detailed block building manager shown fig exemplary embodiment fig block building subsystem integration layer shown fig exemplary embodiment fig detailed portion smart building manager shown fig exemplary embodiment fig detailed fault detection diagnostic layer shown fig exemplary embodiment fig detailed automated fault detection module exemplary embodiment fig flow fault detection strategy utilise trigger condition condition exemplary embodiment fig detailed fault detection engine shown fig exemplary embodiment fig flow fault detection strategy incorporate threshold adjustment exemplary embodiment fig detailed threshold adjustment module shown fig exemplary embodiment fig flow fault detection strategy employ fault detection rule equipment controller exemplary embodiment fig detailed heating ventilation air conditioning subsystem shown fig exemplary embodiment fig detailed air handling unit controller shown fig exemplary embodiment fig flow chart process analysing fault building management system exemplary embodiment fig detailed automated diagnostic module shown fig exemplary embodiment fig flow chart process analysing fault building management system exemplary embodiment detailed description exemplary embodiment invention relate building management system configured improve building efficiency enable greater renewable energy source provide comfortable productive building building management system bms general hardware software configured control monitor manage device building building area bms subsystem device include heating ventilation air conditioning hvac subsystem device security subsystem device lighting subsystem device fire alerting subsystem device elevator subsystem device device capable managing building function combination thereof referring fig block system including smart building manager shown exemplary embodiment smart building manager connected smart grid plurality building subsystem building subsystem include building electrical subsystem information communication technology ict subsystem security subsystem hvac subsystem lighting subsystem subsystem fire safety subsystem building subsystem include fewer additional alternative subsystem example building subsystem alternatively include refrigeration subsystem advertising signage system subsystem cooking subsystem vending subsystem printer copy service subsystem conventionally system autonomous managed separate control system smart building manager configured achieve energy consumption energy demand reduction integrating management building subsystem building subsystem include number device controller connexion completing individual function control activity example hvac subsystem include chiller boiler number air handling unit economizer field controller supervisory controller actuator temperature sensor device controlling temperature building example lighting subsystem include number light fixture ballast lighting sensor dimmer device configured controllably adjust amount light provided building space security subsystem include occupancy sensor video surveillance cameras digital video recorder video processing server intrusion detection device control device server securityrelated device exemplary embodiment smart building manager configured include communication interface smart grid building interface disparate subsystem building hvac lighting security lift power distribution business etc interface application network local allowing control monitoring adjustment smart building manager subsystem enterprise control application configured provide subsystemspanning control graphical interface gui number enterpriselevel business application accounting system identification system etc enterprise control application alternatively configured provide configuration guis configuring smart building manager embodiment enterprise control application work layer optimise building performance efficiency energy use comfort safety based input received interface smart grid interface building subsystem exemplary embodiment smart building manager integrated single computer server housing etc exemplary embodiment smart building manager distributed multiple server computer exist distributed location fig illustrate detailed smart building manager exemplary embodiment particular fig illustrate smart building manager processing circuit processing circuit shown include processor memory device processor implemented general purpose processor application specific integrated circuit asic field programmable gate array fpgas processing component suitable electronic processing component memory device memory memory unit storage device etc device ram rom flash memory hard disc storage etc storing data computer code completing facilitating processe layer module application memory device include volatile memory nonvolatile memory memory device include database component object code component script component type information structure supporting activity information structure application exemplary embodiment memory device communicably connected processor processing circuit include computer code executing processing circuit processor processe herein communication interface include wired wireless interface jack antennas transmitter receiver transceiver wire terminal etc conducting data communication with smart grid energy provider purchaser building subsystem external source direct connexion network connexion internet connexion lan wan wlan connexion etc example communication interface include ethernet card port sending receiving data ethernetbased communication link network example communication interface include wifi transceiver communicating wireless communication network example interface include cellular mobile phone communication transceiver embodiment communication interface power line communication interface communication interface ethernet interface embodiment communication interface communication interface ethernet interface ethernet interface further fig show application existing smart building manager embodiment application hosted smart building manager generally memory device particularly building subsystem integration layer referring fig building subsystem integration layer configured manage communication rest smart building manager component building subsystem building subsystem integration layer configured manage communication building subsystem building subsystem integration layer configured translate communication sensor data input signal output signal etc plurality system example building subsystem integration layer configured integrate data subsystem fig building subsystem integration layer shown greater detail include message format normalisation component message format normalisation component configured convert data message disparately protocolled device network building subsystem differently protocolled smartgrid source etc message format normalisation component shown include subcomponent application normalisation component building subsystem normalisation component application normalisation component computer function object service combination thereof configured drive conversion communication application enterprise level application shown fig computerised maintenance management system utility company application smart grid shown fig etc building subsystem normalisation component computer function object service combination thereof configured drive conversion communication building subsystem building subsystem shown fig building subsystem controller building device security system fire system etc application normalisation component building subsystem normalisation component configured accommodate multiple communication data protocol embodiment application normalisation component building subsystem normalisation component configured conduct conversion protocol based information stored module table script memory device shown fig system device protocol module example schema map description message protocol translated message protocol embodiment module plugin driver easily installed removed building subsystem integration layer executable installation routine placing file interface folder etc setup example module vendor specific johnson control honeywell siemen etc standardsbased bacnet ansi lon work modbus rip snmp soap web service html xml xaml tftp dhcp dns smtp sntp etc built selected customised embodiment application normalisation component building subsystem normalisation component configured compatibility module driver defined provided vendor party embodiment message format normalisation component advantageously scaled future application casespecific requirement situation calling additional cyber security standard data changing active module set installing module message format normalisation component building subsystem integration layer configured provide serviceoriented architecture providing crosssubsystem control activity crosssubsystem application message format normalisation component configured provide small number straightforward interface application programming interface apis protocol open protocol unified protocol common protocol layer shown fig external application shown fig hide layer application complexity underlying subsystem data transport protocol data format semantic interaction style like configuration message format normalisation component occur automatically building subsystem device discovery process configuration combination automated discovery configuration configuration driven providing graphical interface wizard user graphical interface allowing map attribute protocol attribute protocol configuration tool shown fig configured drive process configuration tool served client local remote web service gui engine both shown fig configuration tool provided thin web client primarily interface web service thick client occasionally draw web service gui engine configuration tool configured standard intended harmonise semantic information system controllably define describe store relationship define module example standard web ontology language owl exemplary embodiment configuration tool configured prepare message format normalisation component and module thereof machine level interoperability data content building subsystem integration layer configured developer application provided software development kit rapid development application compatible smart building manager applicationfacing protocol api building subsystem integration layer api applicationfacing protocol exposed enterprise integration layer shown fig exemplary embodiment smart building manager including building subsystem integration layer include feature advantage seamless heterogeneous application subsystem integrated varying affecting behaviour external facing interface logic open vender develop product application coding adapter module shown fig feature welldefined specification multistandard support subsystem operate standard proprietary protocol extensible accommodate application subsystem modification scalable support application subsystem adaptable addition deletion application subsystem affecting system consistency userconfigurable adjustable business environment business rule business workflow secure protect information transferred integration channel additional detail respect building subsystem integration layer respect fig integrated control layer referring fig integrated control layer configured data input output building subsystem integration layer make control decision due subsystem integration provided building subsystem integration layer integrated control layer integrate control activity subsystem subsystem behave single integrated supersystem exemplary embodiment integrated control layer include control logic input output plurality building subsystem provide greater comfort energy saving relative comfort energy saving separate subsystem provide alone example information building subsystem control building subsystem example building employee badge parking garage message parking subsystem building subsystem integration layer converted event recognised universal occupancy badgein event provided integrated control layer integrated control layer include logic turn light building employee office begin cooling building employee office response anticipated occupancy boot employee computer decision turn device made integrated control layer integrated control layer proper command forwarded subsystem lighting subsystem subsystem hvac subsystem integrated control layer passe command building subsystem integration layer message properly formatted protocolled receipt action subsystem illustrated fig integrated control layer logically building subsystem building subsystem controller integrated control layer information multiple system configured input building subsystem make control decision control algorithm building subsystem example badgein event integrated control layer control algorithm thereof provide setpoint hvac control algorithm hvac subsystem conventional building subsystem controller process input directly relevant performance control loop integrated control layer configured input subsystem make energysaving control decision subsystem result decision communicated back building subsystem integration layer via example message format normalisation component shown fig therefore advantageously hvac system system connected smart building manager due normalisation building subsystem integrated control layer integrated control layer control algorithm determine control strategy normalised temperature input provide output including normalised setpoint temperature building subsystem integration layer building subsystem integration layer translate normalised setpoint temperature command specific building subsystem controller setpoint adjustment intended multiple subsystem utilised complete function multiple disparately protocolled hvac subsystem provided region building building subsystem integration layer convert command decision lower temperature setpoint degree multiple command receipt action multiple disparately protocolled hvac subsystem way function integrated control layer executed capability building subsystem integration layer exemplary embodiment integrated control layer configured conduct primary monitoring system subsystem statuse interrelationship building monitoring cross major energy consuming subsystem building crosssubsystem energy saving achieved demand response layer integrated control layer shown logically demand response layer integrated control layer configured enhance effectiveness demand response layer enabling building subsystem respective control loop controlled coordination demand response layer configuration advantageously provide disruptive demand response behaviour conventional system example integrated control layer configured assure demand responsedriven upward adjustment setpoint chilled water temperature component directly indirectly affect temperature result increase fan energy energy cool space result greater total building energy saved chiller integrated control layer configured provide feedback demand response layer demand response layer cheque constraint temperature lighting level etc properly maintained demanded load shedding progress constraint include setpoint sensed boundary relating safety equipment operating limit performance comfort fire code electrical code energy code like integrated control layer logically fault detection diagnostic layer automated measurement validation layer integrated control layer configured provide calculated input aggregation higher level based output building subsystem control activity completed integrated control layer software module control algorithm thereof include occupancybased control activity security system radio frequency location system rfl control system video surveillance system provide detailed occupancy information integrated control layer building subsystem smart building manager and particularly building subsystem integration layer integration control subsystem security subsystem building provide detailed occupancy data consumption integrated control layer binary occupied unoccupied data conventional hvac system rely example motion sensor example exact number occupant building building zone floor conference room etc provided integrated control layer aggregated integrated control layer input plurality subsystem exact number occupant building integrated control layer determine command adjustment building subsystem such hvac subsystem lighting subsystem integrated control layer configured number occupant example determine elevator activate building building occupied integrated control layer example configured power elevator energy saving further occupancy data individual workspace cubicle office desk workstation etc workspace determined unoccupied integrated control layer control algorithm integrated control layer energy device serving workspace turned commanded enter low power mode example workspace plugload task lighting computer phone circuit affected based determination integrated control layer employee workspace vacation data input received humanresource subsystem significant electrical load shed integrated control layer including example heating humidification load cooling dehumidification load ventilation fan load electric lighting plug load secondary thermal load electric elevator load like integrated control layer configured integrate hvac subsystem lighting subsystem sunlight shading device smart window technology natural daylighting significantly offset lighting load optimal comfort controlled integrated control layer prevent glare overlighting conversely shading device smart window controlled integrated control layer calculably reduce solar heat gain building spacewhich significant impact cooling load feedback sensor space knowledge hvac control strategy integrated control layer configured control transmission infrared radiation building minimising thermal transmission hvac subsystem cooling maximising thermal transmission hvac subsystem heating occupancybased control strategy implemented integrated control layer input video security subsystem analysed control algorithm integrated control layer make determination occupancy building space determination control algorithm turn light adjust hvac set point powerdown ict device serving space reduce ventilation likeenabling energy saving acceptable loss comfort occupant building space referring fig detailed portion smart building manager shown exemplary embodiment particular fig illustrate detailed embodiment integrated control layer configuration tool define graphical interface promptdriven wizard etc integrated control layer react changing condition building subsystem exemplary embodiment configuration tool build store conditionresponse scenarios cross multiple building subsystem multiple enterprise control application work order management system application entity resource planning erp application etc building subsystem external source smart grid internal layer demand response layer regularly generate event message alarm changed value etc provide event integrated control layer layer configured handle event example demand response event change real time energy pricing provided smart building manager open automated demand response openadr message protocol developed lawrence berkeley national laboratory message received openadr adapter which part enterprise integration layer shown fig openadr adapter configured convert openadr message event configured understood parsed interpreted processed etc demand response layer event formatted transmitted service bus smart building manager service bus adapter configured trap receive event service bus forward event demand response layer service bus adapter configured queue mediate manage demand response message demand response layer event received demand response layer logic thereof generate control trigger response processing event integrated control engine integrated control layer configured parse received control trigger determine control strategy exist control strategy database correspond received control trigger control strategy exist integrated control engine execute stored control strategy control trigger case output integrated control engine apply policy message business rule engine process business rule engine process apply policy message policy business rule database policy business rule database form set action command sending building subsystem set action command include ordering scripting conducting action command correct timing ordering parameter business rule engine processe set action command therefore control ordering scripting parameter action command transmitted building subsystem action command command direct consumption building subsystem command application process crosssubsystem command command direct consumption building subsystem passed service bus adapter service bus subsystem adapter providing building subsystem format building subsystem command application process include command interface application request feedback user command generate work order computerised maintenance management system cmm application command generate change erp application application level command crosssubsystem command passed semantic mediator perform task translating action specific command required building subsystem example policy action set lighting zone maximum light semantic mediator translate action command set level lighting object controller command set light controller zoneidno lighting object controller zoneidno controller affect lighting zone controller dimming controller accent lighting controller nondimming controller primary lighting room semantic mediator configured determine controller relate zone ontology database ontology database store representation representation relationship the ontology building space subsystem element subsystem element concept integrated building supersystem ontology stored ontology database semantic mediator determine controller dimming require numerical percentage parameter controller dimming require command configuration tool build ontology ontology database establishing relationship subsystem building space point building subsystem building space event received openadr adapter demand response layer specific eventhanding mechanism trapped subsystem adapter part building subsystem integration layer provided general event manager service bus service bus adapter time event building subsystem received event manager converted unified event common event standardised event etc subsystem adapter component building subsystem integration layer semantic mediator event manager utilise event logic lookup control trigger control trigger script control trigger sequence based received unified event event manager provide control trigger integrated control engine respect demand response layer event received archived event history event manager similarly demand response layer store event history event manager demand response layer configured wait multievent condition met processing data history event received example demand response layer include logic act reduce energy load sery sequential energy price increase received exemplary embodiment event manager configured receive time event calendaring system time event trigger event logic database exemplary embodiment configuration tool build event condition trigger condition event logic control strategy database example configuration tool provide ability combine data subsystem event history variety conditional logic varying exemplary embodiment conditional logic range simple logical operator condition and xor etc pseudocode construct complex programming language function allowing complex interaction conditional statement loop etc configuration tool interface building conditional logic interface user define policy response graphically embodiment interface select prestored preconstructed policy adapt enable system referring fig embodiment integrated control layer generally integrated control engine operate service higher level layer smart building manager enterprise application subsystem logic policy sequence action based occurrence condition performed embodiment control operation reprogrammedapplication logic rely integrated control layer receive event execute related subsystem function example demand response layer fault detection diagnostic layer shown fig enterprise integration layer application utilise shared control strategy database integrated control engine initiate response sequence event fault detection diagnostic layer referring fig fault detection diagnostic fdd layer shown greater detail exemplary embodiment fdd layer configured provide ongoing fault detection building subsystem building subsystem device control algorithm integrated control layer fdd layer receive input integrated control layer directly building subsystem device smart grid fdd layer automatically diagnose respond detected fault response detected diagnosed fault include providing alert message user maintenance scheduling system control algorithm configured attempt repair fault workaround fault exemplary embodiment fdd layer configured provide fault event integrated control layer reference fig integrated control layer fig configured execute control strategy policy response received fault event exemplary embodiment fdd layer policy executed integrated control engine business rule engine shutdown system direct control activity faulty device system reduce energy waste extend equipment life assure proper control response fdd layer configured statistical analysis realtime historical building subsystem data rapidly identify fault equipment operation shown fig fdd layer configured store variety system data store data point live data fdd layer data store identify fault equipment level specific chiller specific ahu specific terminal unit etc identify fault component subsystem level fdd layer configured output specific identification faulty component fault loose damper linkage detailed subsystem input building subsystem integration layer shown previous figure specificity determination calculated fdd layer based subsystem input and example automated fault detection module automated fault detection module utilise rulebased system expert system detect fault building management system embodiment rulebased fault detection module configured calculate update performance indice performance indice calculated based exponentiallyweighted moving average ewmas provide statistical analysis feature outlier statistical process control spc technique identify fault example fdd layer configured metre data outlier detect energy consumption abnormal fault detected fdd layer rulebased fault detection module fdd layer configured generate alarm event prompt manual fault diagnostic initiate automatic fault diagnostic activity automated diagnostic module automatic diagnostic module configured metre data weather data model data performance model based historical building equipment performance building subsystem data performance indice data building subsystem integration layer complete fault diagnostic activity exemplary embodiment fault detected automated diagnostic module configured investigate fault initiating expanded data logging error activity relative input output system related fault example automated diagnostic module configured poll sensor air handling unit ahu temperature sensor space served ahu air flow sensor position sensor etc frequent synchronised basis diagnose source detected ahu fault automated diagnostic module configured compute residual difference measured expected value analysis determine fault source example automated diagnostic module configured implement processing circuit method patent application ser filed jun titled system method fault detection air handling unit entirety incorporated reference automated diagnostic module finite state machine input system sensor temperature sensor air mass sensor etc diagnose fault state transition frequency heating state free cooling state mechanical cooling state automated fault detection module automated diagnostic module identify diagnose unstable control issue fdd layer alternatively configured rulebased predictive detection diagnostic determine rule threshold provide continuous monitoring diagnostic building equipment addition alternative automated diagnostic process provided automated diagnostic module fdd layer drive manual diagnostic process manual diagnostic module automated diagnostic module manual diagnostic module store data fault diagnosis thereof assessment manual automated fault assessment engine manually driven process assessment engine utilise graphical textual interface displayed receive feedback input user embodiment assessment engine provide number reason fault determined estimated automated diagnostic module gui select fault manual investigation calculation automated process assessment engine receive indication estimated root fault automated diagnostic module detected estimated automated diagnostic module provided fault assessment engine fault assessment work gui service provide visualisation fault root cause recommended action assessment gui fault information including determined estimated fault cause provided work order generation dispatch service module work order generated work order generation dispatch service module work order generation dispatch service module transmit work order service management system work dispatch service action further data processing result module data stored module fault detection diagnostic layer provided enterprise integration layer shown fig monitoring reporting application data pushed data real time system health dashboard viewed navigated building engineer example monitoring reporting application include webbased monitoring application include graphical interface gui element widget dashboard control window etc displaying key performance indicator kpi information user gui fdd layer information analyse addition gui element summarise relative energy intensity building real modelled campuse like gui element report generated shown based data facility manager assess performance building screen interface report underlying data engine configured aggregate categorise fault building building type equipment type fault type time occurrence frequency occurrence severity like gui element include chart histogram visually analyse magnitude occurrence specific fault equipment building time frame grouping time sery pane gui user diagnose fault remotely analysing comparing interval timesery data trend pattern point fdd layer fdd layer include gui service web service support application further embodiment application gui engine included fdd layer monitoring reporting application shown fig web service shown fig gui engine shown fig fdd layer configured maintain detailed historical database relational database xml database etc relevant data include computer code module continuously frequently infrequently query aggregate transform search process data maintained detailed database fdd layer configured provide result processing database table xml file data structure querying calculation example external monitoring reporting application exemplary embodiment automated diagnostic module automatically prioritise detected fault prioritisation conducted based customerdefined criteria prioritisation manual automated fault assessment module determine fault communicate human dashboard gui further prioritisation work order dispatch service determine fault worthy investigation fault investigated regular servicing special work request fdd layer configured determine prioritisation based expected financial impact fault fault assessment module retrieve fault information compare fault information historical information comparison fault assessment module determine increased energy consumption pricing information smart grid calculate cost time cost day type cost replacement cost service cost etc conjunction energy cost information monetize fault information assist user interacting gui service manual prioritisation manual diagnostic business decision task fault system ranked cost lost energy fault assessment module configured generate report supporting operational decision capital request report include cost allowing fault persist energy wasted due fault potential cost fix fault based service schedule subsystem building reliability compared benchmark fault assessment module configured conduct equipment hierarchybased suppression fault suppressed relative interface suppressed relative diagnostic etc suppression module hierarchical information integrated control layer building subsystem integration layer shown fig example module utilise building subsystem hierarchy information stored ontology database suppress lower level fault favour higher level fault suppress fault temperature sensor air handling unit favour fault communicate inspect hvac component serving conference room fdd layer receive input lower level fdd processe example fdd layer receive input building subsystem supervisory controller field controller fdd feature exemplary embodiment fdd layer receive fdd event process received fdd event query building subsystem information fdd event fdd scheme prioritisation reporting pat titled integrated control fault detection hvac equipment issued incorporated reference pub titled fault detection system method selfoptimizing heating ventilation air conditioning control filed nov published mar incorporated reference referred example fdd system method implemented fdd layer lower level fdd processe providing information fdd layer demand response layer fig shown include demand response layer layer configured optimise electrical demand response timeofuse price curtailment signal energy availability data timeofuse price energy availability curtailment signal received smart grid energy provider purchaser energy aggregator smart grid energy provider purchaser communication network smart grid distributed energy generation system energy storage bank source exemplary embodiment layer include control logic responding data signal receive response include communicating control algorithm integrated control layer load shed changing control strategy changing setpoint shutting building device subsystem controlled manner architecture process supporting event shown reference fig layer include control logic configured determine utilise stored energy based information smart grid information local remote energy storage system example layer receive message indicating rising energy price future peak hour layer decide begin power energy storage system prior beginning peak hour exemplary embodiment layer include control module configured actively initiate control action automatically changing setpoint minimise energy cost based input representative based demand price curtailment signal demand level etc layer include draw policy definition database xml file etc policy definition edited adjusted graphical interface control action initiated response demand input tailored user application desired comfort level building equipment based concern example policy definition equipment turned response demand input long system piece equipment turned off setpoint changed allowable set point adjustment range long hold demand setpoint returning scheduled setpoint close approach capacity limit equipment mode utilise energy transfer rate maximum rate alarm rate rate boundary information etc energy storage device thermal storage tank battery bank etc dispatch onsite generation energy fuel cell motor generator set etc policy control activity located control strategy database business rule database further reference fig response event processed completed integrated control layer input processing layer plurality marketbased input reliability based input configured policy definition system configuration mechanism layer smart building manager configured selfconfigured manually configured configured policy definition etc select deselect differently weigh varying input layer calculation execution control strategy based input layer automatically configuration calculate output control strategy based balance minimising energy cost maximising comfort balance adjusted graphically rule slider etc user smart building manager configuration utility administration gui layer configured receive input layer building subsystem integration layer integrated control layer etc input received layer include environmental sensor input temperature carbon dioxide level relative humidity level air quality sensor output occupancy sensor output room schedule like input include input electrical expressed kwh thermal load measurement pricing information projected pricing smoothed pricing curtailment signal utility inside system smart grid remote source embodiment layer utilise industry standard open protocol emerging national institute standard technology nist standard receive realtime pricing rtp curtailment signal utility power retailer embodiment proprietary protocol standard utilised mentioned above exemplary embodiment layer configured openadr protocol receive curtailment signal rtp data utility independent system operator isos smart grid source layer layer enterprise integration layer serve layer configured security scheme standard organisation advancement structured information standard oasis web service security standard provide secure communication layer smart grid utility company data communication network utility standard protocol openadr protocol layer enterprise integration layer building subsystem integration layer configured translate utility protocol format utility layer configured bidirectionally communicate smart grid energy provider purchaser utility energy retailer utility energy broker etc exchange price information demand information curtailable load calculation amount load calculated layer shed exceeding parameter defined system user load profile forecast like layer enterprise application communication layer configured continuously monitor pricing data provided nation parse information monitored data display information send information system layer integrated control layer layer configured include adjustable control algorithm addition alternative allowing creation profile example control algorithm automatically adjusted layer dynamic programming model predictive control module embodiment business rule engine configured respond event adjusting control algorithm selecting control algorithm lighting system hvac system combination multiple building subsystem etc smart building manager demand response layer configured automatically user manage energy spend smart building manager with input operating preconfigured business rule shown fig configured accept timeofuse pricing signal information smart grid energy provider smart metre etc and knowledge historical building system data control algorithm calendar information weather information received remote source configured conduct automatic cost forecasting smart building manager demand response layer automatically approval specific load shedding action control algorithm response cost forecast smart building manager configured monitor control energy storage system thermal electrical etc distributed generation system solar array building etc smart building manager layer configured model utility rate make decision system aforementioned processing activity input smart building manager and particularly demand response layer thereof limit cap profitfrom manage building campuss energy spend example timeofuse pricing information upcoming hour unusually price kilowatt hour system control plurality building system limit cost drastically impacting occupant comfort make decision conduct activity smart building manager data load forecast building information energy storage level distributed energy level low smart building manager adjust select control strategy reduce ventilation level provided unoccupied areas reduce server load raise cooling setpoint building reserve stored power expensive period time dim light occupied areas turn light unoccupied areas like smart building manager provide service improve building grid performance example smart building manager provide expanded userdriven load control allowing building manager shed load level granularity smart building manager monitor control power switching equipment route power efficient source destination smart building manager communicate power switching equipment building campus conduct smart voltage regulation example event brownout smart building manager prioritise branches building internal power gridtightly regulating ensuring voltage priority equipment communication equipment data centre equipment cooling equipment clean room chemical factory etc allowing voltage lower priority equipment dip cut smart grid power provider smart building manager layer plan activity proactively begin load shedding based grid service capacity forecasting conducted source smart grid local algorithm algorithm demand response layer smart building manager layer include control logic purchasing energy selling energy participating realtime realtime energy market auction example energy predicted expensive time layer determine shed extra load enter netpositive energy state energy generated solar array energy source building campus layer offer unit energy period sale back smart grid directly utility purchaser exchange carbon credit etc exemplary embodiment layer configured support grid aware plugin hybrid electric vehicle vehicle charging system addition charging system vehicle gridaware example building vehicle charging station terminal parking lot charging electric hybrid vehicle layer decide charge vehicle enable charging station switch relay providing power charging station etc based time real time pricing rtp information smart grid pricing demand curtailment information smart grid embodiment vehicle owner set policy communicated charging station back layer wired wireless communication layer instructed follow policy information provided layer enterprise application vehicle information system personal portal web vehicle owner input example price enable charging layer activate phev charging station based policy curtailment event expected occur layer determine charging occur decide electrical storage conducted upcoming anticipated peak demand decision made layer precharge vehicle suspend charge vehicle data command charging station vehicle charging restricted turned smart building manager period energy expensive energy further period smart building manager layer configured energy drawn pluggedin connected vehicle supplement provide backup power grid energy real time realtime detailed information energy building smart building manager maintain greenhouse gas inventory forecast renewable energy use surpluse deficit generation facilitate emission allocation emission trading like due detailed realtime realtime nature calculation smart building manager include coupled microtransaction emission trading platform layer configured facilitate storage onsite electrical thermal storage controllably shift electrical load peak peak time stored electrical thermal storage layer configured significantly shed load peak hour example price contracted curtailment signal received stored electrical thermal storage significantly affecting building operation comfort integrated control layer configured building precooling algorithm night morning rely calculated thermal storage characteristic building order reduce peak demand cooling further integrated control layer configured input utility rate type cooling equipment occupancy schedule building construction climate condition upcoming weather event make control decision extent precool etc automated measurement verification layer fig shown include automated measurement validation layer configured evaluate building system and subsystem performance automated measurement validation am&v layer implement method standard international performance measurement validation ipmvp protocol exemplary embodiment am&v layer configured automatically data aggregated am&v layer integrated control layer building subsystem integration layer fdd layer otherwise verify impact integrated control layer fdd layer layer energysaving strategy smart building manager example am&v layer validate energy saving obtained capital intensive retrofit project monitored managed post retrofit smart building manager am&v layer configured calculate example return investment date money saved pricing information utility like am&v layer selection validation method use example am&v layer select ipmvp option specify method direct comparison monthly daily energy baseline model actual data postinstallation measurement period ipmvp option example adjustment made baseyear energy model analysis account current year base year energygoverning factor weather metering period occupancy production volume am&v layer configured track received communication input validation method regular interval configured make adjustment adjusted baseline energy model measure saving am&v layer manual automatic nonroutine adjustment factor facility size building envelope major equipment algorithm ipmvp option option alternatively included am&v layer ipmvp option ipmvp option involve measuring calculating energy system isolation retrofitted building subsystem integration layer layer bms relevant data stored am&v layer configured track parameter ipmvp option computation energy saving system isolation flow rate temperature power chiller etc am&v layer configured verify control strategy commanded example integrated control layer layer working properly further am&v layer configured verify building fulfilled curtailment contract obligation am&v layer configured independent verification source energy supply company utility concern utility conventional smart metre compromised report energy energy consumed wrong time am&v layer audit smart metre data data utility measuring energy consumption directly building subsystem knowledge building subsystem usage comparing measurement knowledge metered consumption data discrepancy am&v layer configured report discrepancy directly utility am&v layer continuously operational automated based monthly quarterly calculation am&v layer configured provide verification impact demand signal granular scale hourly daily weekly etc example am&v layer configured support validation short curtailment contract drop minute starting acted layer layer track metre data create subhourly baseline model measure load reduction model based average load period hour prior curtailment event prior uncontrolled day contract requirement utility curtailment service provider broker calculation made am&v layer based building system energy model driven combination stipulated measured input parameter estimate calculate apportion plan load reduction resulting control activity am&v layer configured calculate energy saving peak demand reduction accordance standard protocol practise enterprise accounting reporting greenhouse gas ghg emission application data provided calculated am&v layer provide webbased graphical interface report data underlying guis report checked am&v layer example ghg protocol corporate accounting standard ghg protocol project accounting am&v layer consolidate data potential source ghg emission building campus calculate carbon credit energy saving dollar currency unit measure make adjustment calculation output based number standard method create detailed accounting inventory ghg emission emission reduction building calculation output am&v layer communicate electronic trading platform contract partner party real time real time facilitate example carbon offset trading like am&v layer configured smart electric metre substitute conventional electric metre reason adoption rate smart electric grid conventionally low entire stock installed electric metre replaced metre support real time pricing rtp energy data communication feature am&v layer collect intervalbased electric metre data store data system am&v layer communicate utility retrieve receive real time pricing rtp signal pricing information associate price metre data utility query information smart building manager am&v layer layer end billing period charge customer rtp tariff mechanism manner am&v layer smart electric metre am&v layer conjunction layer building subsystem integration layer enterprise integration layer smart building manager configured energy service portal esp esp smart building manager communicably functionally connect smart grid energy supply company utility iso broker etc network metering energy management device building device built appliance dishwasher smart appliance word smart building manager configured route message dataaware real time pricing rtp aware curtailment signal aware pricing aware etc device energy supply company configuration building subsystem rtp aware managed layer device rtp aware signal directly utility example vehicle phev programmed charge price electricity phev query utility smart building manager charge independently layer exemplary embodiment am&v layer provisional application filed feb am&v layer part thereof enterprise integration layer enterprise integration layer shown fig fig configured serve client local application information service support variety enterpriselevel application enterprise integration layer configured communicate real time real time smart grid energy provider purchaser particularly embodiment enterprise integration layer communicate smart metre automated metre interface utility carbon emission tracking accounting system energy reporting system building occupant interface traditional enterprise productivity application maintenance management system financial system workplace supply chain management system etc enterprise integration layer configured protocol method respect layer otherwise building occupant interface above enterprise integration layer shown fig configured exchange information building occupant interface application exemplary embodiment enterprise integration layer serve building occupant interface application client connecting enterprise integration layer web service gui engine embodiment web service utilise gui engine graphic rendering resource enterprise integration layer data relating building occupant interface order provide building occupant interface client application communication security feature referring fig smart building manager configured provide driver bacnet lon modbus opc obix mig smtp xml web service wireless communication protocol including zigbee driver implemented service bus adapter subsystem adapter service bus smart building manager configured communicate number smart grid communication standard standard utilised intramanager communication communication smart grid component utility company smart metre etc example smart building manager configured ansi protocol internal communication event communication smart grid service bus adapter subsystem adapter convert received message normalised messaging format service bus exemplary embodiment service bus flexible making itcentric message queuing technology open amq msmq websphere assure reliability security scalability performance service bus adapter enable layer application communicate inbuilding external system subsystem adapter stored communication rule service bus adapter subsystem adapter component system catch correct communication failure communication actionfailure rule configured action layer system example layer cheque action requested commanded layer completed not layer action corrective action turn alternate load adjust additional setpoint trigger focused fdd activity etc ensure met smart building manager determine provided override command system corrective action available corrective action unavailable message warning partner utility energy purchaser smart grid etc smart building manager reside connected ethernet network utilising standard network infrastructure protocol application dns dhcp sntp snmp active directory etc secured security practise standard network infrastructure protocol application example embodiment smart building manager include installed infrastructure software hardware firewall switches further configuration smart building manager system adjust level security smart building manager example smart building manager component thereof configured middle layer component communicate other communicate lan wan internet communicate select device building service restrict communication mentioned layer component data source network device smart building manager configured support tiered network architecture approach communication provide measure security outward facing component secure tier network act point entry smart building manager outward facing component minimised web server receive handle request client application limit number way system accessed indirect communication route external device application network internal layer module smart building manager example outward facing tier lie secure tier network require authentication authorization occur tier function secure tier accessed smart building manager configured include firewall tier define tier protect database core component system direct unauthorised network addition including implementing infrastructure type security measure type disclosed above smart building manager configured include communication security module configured provide network message security smart building manager device application example soap messaging communication enterprise integration layer soap message concatenated include encrypted header authentication credential authentication credential checked receiving device smart building manager end application device etc embodiment encrypted header information bit configured identify message tampered transmission spoofed replayed attacker message conform expected format part authentication fail smart building manager configured reject message unauthorised command system embodiment message application smart building manager smart building manager configured provide ssl message security encryption form authentication message authentication smart building manager include security module require application authenticated credential prior logging system security module configured complete secure authentication challenge accomplished public private key exchange rsa key session key key credential session key encrypt credential authentication challenge authentication challenge session key encrypt security header message authenticated action system restricted actionbased authorization limited example command control hvac point command control fire security point furthermore action smart building manager written memory audit trail engine providing record action taken database component smart building manager storing device information profile configuration data pricing information data mentioned otherwise accessible sql server part building management server located remotely smart building manager example database server component smart building manager physically separated smart building manager component located secure tier network firewall smart building manager sql authentication secure aforementioned database furthermore exemplary embodiment smart building manager configured support nondefault instance sql nondefault tcp port sql operating system smart building manager windowsbased operating system smart building manager provide security reliant central server provide security further robustness smart building manager ability incorporate building subsystem communication standard module driver incorporate changing security standard module higher level etc energy management smart building manager shown figure configured support multicampus multibuilding energy management service plurality campuse include smart building manager configured manage building energy resource campus example building subsystem shown fig collection building subsystem multiple building campus smart building manager configured bidirectionally communicate onsite power generation system distributed power source related service solar array fuel cell array diesel generator combined heat power chp system etc plugin hybrid electric vehicle phev system energy storage system stationary energy storage thermal energy storage etc data input source demand response layer smart building manager make demand response decision provide ancillary service connected smart grid utility smart metre connected utility etc real time real time example smart building manager communicate smart metre energy utility directly indirectly independent system operator isos regional power provider communication input device campus smart building manager demand response layer configured engage peak shaving load shedding load balancing programme provide financial incentive reducing power draw day time day demand response layer control algorithm smart building manager control algorithm integrated control layer configured weather forecast information make setpoint load shedding decision comfort building campus compromised smart building manager configured energy pricing information campus energy information information optimise business transaction purchase energy smart grid sale energy smart grid purchase sale carbon credit energy provider purchaser etc smart building manager configured decision processing demand response layer affect control algorithm integrated control layer fig shown tightlycoupled smart building manager embodiment processing circuit fig including thereof distributed server form smart building manager control feature herein embodiment smart building manager controlling entire campus set campuse smart building manager layered effect hierarchical control activity example enterprise level smart building manager provide strategy decision plurality lower level smart building manager process strategy decision framework shown fig effect change individual campus building example integrated control layer building system integration layer replicated building stored lower level smart building server single enterprise level smart building manager provide single higher level layer layer layer execute campuswide strategy passing event separate lower level smart building manger integrated control layer building system integration layer higher level server provide software interface apis lower level server lower level server request information higher level server provide command higher level server communicate layer data higher level server reverse true apis software interface lower level server exposed consumption higher level server software interface web service interface relational database connexion otherwise rulebased fault detection rulebased fault detection generally refer rule define normal operation system building management system detect fault typically rule evaluated ifthen manner example rule measured temperature threshold normal operation system rule determine fault condition exist comparing measured temperature rule measured temperature rule threshold fault condition exist action system referring fig detailed automated fault detection module shown exemplary embodiment automated fault detection module include fault detection engine configured provide rulebased fault detection building management system exemplary embodiment fault detection engine receive input data building management system including metre data weather data model data building subsystem data fault detection engine compare data building management system defined rule order detect fault example building subsystem data include information position valve hvac subsystem fault detection engine apply valve position information rule determine valve position greater rule condition met fault detection engine output fault fault detected fault detection engine initiate diagnostic notifying automated diagnostic module manual diagnostic module gui service fault automated fault detection module include active rule module configured communicate active rule fault detection engine exemplary embodiment active rule module utilise rule condition database construct rule recall information processing rule condition rule condition database storage mechanism capable storing rule condition rom ram relational database flash memory data structure file etc device exemplary embodiment rule condition database reside location server active rule module communicate active rule module network embodiment active rule module include database linking rule condition condition database parameter building management system input output threshold etc data active rule module exemplary embodiment active rule module reside remote location fault detection engine communicate rule fault detection engine network rule condition database shown include condition database trigger condition database condition database rule condition place condition data building management system way condition logical comparison data building management system detect fault example data building management system include measured temperature power consumption performance metric position value fan speed damper output etc type data building management system control building equipment likewise trigger condition database include rule condition define condition evaluated example trigger condition database include rule condition evaluate elapse time operational state controller setpoint mode type data condition evaluated way excess fault alarm avoided trigger condition fault detection rule example fault detection engine rule cheque discharge air temperature piece equipment hvac subsystem startup condition amount time discharge air temperature reach setpoint rule comprise trigger condition verify controller startup operational state evaluating condition evaluate temperature relative threshold way fault alarm excess alarm false alarm reduced startup period trigger condition prevent excess alarm caused transient response selfcorrecting fault fluctuation value condition evaluation condition necessary active rule module communicate gui service user build active rule trigger component stored rule condition database example presented list trigger component component build rule linking trigger condition condition link provided entry draganddrop action method data entry signify rule condition embodiment link stored active rule module memory rule storage way system memory requirement reduced rule rule component link rule component storing rule component multiple time additionally provide indication rule active evaluated inactive constructed rule flagged inactive retrieved date set active viceversa automated fault detection module shown include threshold adjustment module threshold existing rule adjusted reduce excess alarm example hvac subsystem include operating mode hold valve position open valve actuator valve actuator feedback typically measured potentiometer valve actuator measurement error lead discrepancy measured position target position valve fully open therefore rule verify valve position fault falsely detected threshold adjustment module adjust rule parameter accomplishes control goal reduce number false fault alert rule condition referring fig flow fault detection strategy utilise trigger condition condition shown exemplary embodiment fault detection strategy include step stored rule recalled stored rule recalled flash memory ram rom data structure database file type storage location capable storing rule condition step trigger condition condition identified rule exemplary embodiment condition relate parameter building management system trigger condition relate amount time example rule comprise condition verify damper opening trigger condition delay processing condition amount time step trigger condition checked determine process condition example rule condition verify temperature threshold trigger condition delay processing condition amount time amount time system startup step condition processed detect fault preceding example correspond comparing temperature sensor threshold trigger condition temperature threshold fault detected referring fig detailed automated fault detection engine shown exemplary embodiment fault detection engine include auxiliary rule storage store fault detection rule auxiliary rule storage storage mechanism capable storing fault detection rule rom ram relational database flash memory data structure file etc rule storage configured act auxiliary capacity receive store rule generated active rule module example rule storage store active rule local fault detection engine active rule module communicate fault detection engine network embodiment rule storage omitted fault detection engine directly rule active rule module fault detection engine include building data interface configured receive data building management system metre data weather data model data building subsystem data fault detection engine shown include rule evaluator evaluate rule stored active rule module rule storage rule evaluator identify trigger condition condition rule trigger condition evaluator determine trigger condition met comparing trigger condition building management data building data interface internal value time count trigger condition met condition evaluator compare condition building management data building data interface determine fault exist exemplary embodiment rule evaluator report detected fault fault report interface notify provide information automated diagnostic module manual diagnostic module gui service rule threshold adjustment referring fig flow fault detection strategy incorporate threshold adjustment shown exemplary embodiment fault detection strategy include step stored rule condition detect fault building management system step threshold adjustment determined exemplary embodiment determined inputted system example technician system excess alert relate sensor exemplary embodiment threshold adjustment determined automatically system step threshold rule determined exemplary embodiment provided system user example technician sensor error rate greater current rule provide rate system exemplary embodiment system automatically determine threshold based financial impact detected fault error controlled device transient response controlled device power consumption value etc data detect fault step fault detection rule condition adjusted reflect threshold value embodiment manually user exemplary embodiment system automatically adjust rule condition step adjusted rule detect fault building management system referring fig detailed threshold adjustment module shown exemplary embodiment exemplary embodiment threshold adjustment module include data interface data interface configured receive data threshold adjustment provide data determination module example data interface receive performance indice building management system embodiment data interface utilise historical fault detection data data event history shown fig example data provided fault detection engine automated diagnostic module manual diagnostic module manual automated fault assessment engine work order generation dispatch service module system subsystem building management system historical fault detection data fault frequency analysed fault priority fault detected determined actual fault actual fault fault information embodiment data interface utilise system performance data decrease network performance due increase number fault alert exemplary embodiment manually threshold adjustment example notified gui service alert reported frequently manually via gui input threshold adjustment needed data interface data determination module exemplary embodiment determination module utilise performance indice historical fault detection data automatically determine threshold adjustment needed example determination module automatically determine frequent lowpriority alert require threshold adjustment fault detection rule embodiment determination module statistical analysis automatically determine threshold adjustment needed embodiment determination module utilise data threshold adjustment necessary hybrid approach possible determination module automatically determine threshold adjustment determination presented user confirm reject determination threshold adjustment necessary determination module notify threshold generator exemplary embodiment threshold generator receive threshold data data interface threshold data type data needed determine threshold fault detection rule embodiment threshold data financial impact detected fault example rule equipment low financial impact fault occur threshold adjusted reduce number alert embodiment estimated error controlled device determine threshold example potentiometer error excessive alert threshold generator error generate threshold fault detection rule embodiment threshold data amount time controller controlled device reach desired state example threshold generator generate threshold based amount time needed controlled device reach steady state example amount time needed system startup generate threshold embodiment threshold data estimated power consumption controlled device exemplary embodiment threshold generator threshold data automatically generate threshold exemplary embodiment threshold data generator utilise gui service prompt manual entry threshold embodiment hybrid approach threshold automatically determined presented confirmation manual entry threshold threshold determined threshold generator update rule active rule module threshold data embedded fault detection rule referring fig flow fault detection strategy employ fault detection rule controller shown exemplary embodiment fault detection strategy include step master controller control supervise controller preferred embodiment controller equipment controller direct control building equipment example master controller provide setpoint temperature ahu controller embodiment controller lowest level controller building management system step equipment data collected controller example equipment data measured temperature power consumption performance metric position value fan speed damper output etc data controlled equipment step equipment data processed relative rule condition detect fault equipment example rule condition test measured temperature value exemplary embodiment rule condition selectively applied based operational state controller itself step detected fault reported master controller controller referring fig schematic hvac subsystem including air handling unit ahu shown exemplary embodiment hvac subsystem affect controlled variable building zone climate condition building zone temperature oxygen level air pollutant level humidity level etc addition ahu hvac subsystem include workstation master controller network automation engine nae ahu controller ahu controller coupled master controller communication port ahu controller communication link building network wireless network wired network medium link etc workstation master controller coupled communication bus inbuilding network wireless network network etc communication bus coupled additional section additional controller component utilised hvac subsystem master controller interface thermostat device provide climate condition setpoint controller setpoint ahu controller generally configured apply heating cooling measurement climate condition setpoint circuit control logic application implemented ahu controller master controller further task calculation conducted circuit controller task calculation conducted circuit controller accordingly embodiment refer hardware logic contained local ahu controller ahu controller teaching application extend providing similar hardware logic master controller device ahu air returned building zone return air duct drawn return fan depending position exhaust damper recirculation damper return air exhausted building zone flow return air duct mixed air plenum recirculated air mixed air plenum fresh outdoor air drawn inlet damper mixed recirculated air mixture passe philtre heating coil cooling coil supply fan temperature flow rate outdoor recirculated air stream determine condition end mixed air plenum cooling heating coil active time control strategy ahu implemented properly fault ahu conditioned coil air distributed building zone zone supply air duct supply air cooling coil heating coil damper operated ahu controller control logic determine proper combination system component activate maintaining supply air temperature desired setpoint provided supervisory controller controller generally implement control strategy regulate mixture outdoor air return air controllably mechanical cooling heating mixture air coil example controller control cooling coil valve heating coil valve change amount cooling heating provided supply air output supply air duct controller receive sensor data sensor determining control strategy outdoor air temperature sensor provide controller signal temperature outdoor air entering ahu derived supply air temperature sensor controller signal indicative temperature air fed supply air duct output building zone sensor controller signal indicative temperature air return air duct building zone referring fig detailed block ahu controller shown exemplary embodiment controller include processing circuit including processor memory similar processing circuit processor memory disclosure processing circuit receive information sensor fig interface send information interface memory shown include finite state machine philtre climate condition transition estimation module fault detection module historical data long term diagnostic module finite state machine configured determine state ahu operate system input condition finite state machine include control logic transitioning state system input condition change finite state machine include control logic operating control system state philtre generally configured smooth philtre transform input module memory transition estimation module configured estimate condition finite state machine change state transition estimation module receive input variety source sensor finite state machine setpoint data supervisory controller etc transition estimation module provide module fault detection module estimate example temperature finite state machine transition heating state heating state transition estimation module include computer code conducting estimate depending state finite state machine embodiment transition estimation module calculate transition condition state finite state machine time fault detection module embedded ahu controller detect fault ahu ahu operating incorrect state ahu transitioning incorrectly etc exemplary embodiment fault detection module receive estimate condition finite state machine change state embodiment fault detection module include computer code hardware transition estimation module fault detection module alternatively receive data system transition historical data historical data table relational database information structure configured store retain information historical condition state transition like fault detection module generally configured compare input controller current system condition estimate module determine fault system exist exemplary embodiment fault detection module utilise state information finite state machine historical data evaluate fault detection rule example ahu controller operational state set heating coil valve low limit setpoint fault detection module information relating operational state ahu controller selectively evaluate fault detection rule apply rule low limit setpoint mode utilising operational state ahu controller fault detection module help reduce network utilisation detected fault reported master controller fault detection occur master controller ahu controller operational state ahu controller communicated master controller increasing network utilisation manner fault detection rule evaluated directly secondary controller controlled master controller memory shown include long term diagnostic module long term diagnostic module configured utilise historical data receive information fault detected module log process annotate data relating system performance long term diagnostic module configured aggregate historical value residual evaluated fault detection module below long term diagnostic module store aggregation memory retrieval long term diagnostic module configured provide report current historical residual fault information device communication port example long term diagnostic module configured generate send message data message alarm alert supervisory controller device etc fault detected system fault detection module exemplary embodiment long term diagnostic module module fault detection module philtre configured philtre residual value calculated fault detection module representing comparison actual performance modelled performance remove noise outlier prior reporting fault information example temperature sensor system provide spurious controller temporarily result detection fault but short period time determined mere noise filtered system long term diagnostic module configured calculate store memory value trend residual time percentage operating time fault fault detection module worst residual fault period time worst detected long term diagnostic module configured record plurality system value store system snapshot system snapshot worstcase fault subsequently reported email printed report data communication etc system evaluation caused worstcase condition long term diagnostic module configured generate report graph detected fault residual fault diagnostic remotely located building management device referring briefly fig exemplary embodiment building subsystem send limited amount data smart building manager fault free operation building subsystem remotely monitored smart building manager provide data smart building manager fault detection send additional information diagnostic purpose conserve network bandwidth storage smart building manager fault detection diagnostic layer smart building manager configured automatically expand data acquisition remote source device building subsystem response detected fault diagnostic expert diagnostic module diagnostic logic detected fault etc fault detection diagnostic layer data acquired expansion conduct diagnostic exemplary embodiment expanded data acquisition discontinued fault diagnosed diagnostic routine added fault detection diagnostic layer making diagnostic capability smart building manager scalable exemplary embodiment diagnostic routine added smart building manager routine automatically execute response detected fault expand data acquired remote device conduct detailed diagnostic report result diagnostic probable source root fault human intervention referring fig flow chart process analysing fault building management system shown exemplary embodiment process include detecting fault evaluating data building management system step fault detection step include fault detection feature respect automated fault detection module shown fig fig fault detection method relate rulebased fault detection statistical fault detection expert systembased fault detection combination fault detection method fault detection utilised completing fault detection step response detecting fault process recall diagnostic logic fault step depending type fault source fault fault identifier fault aspect condition diagnostic routine logic selected recalled diagnosing fault process include recalling diagnostic parameter fault step recalling diagnostic parameter fault include determining variable data needed diagnostic logic recalled step step include determining additional information needed complete diagnostic determining additional information needed complete diagnostic include comparing parameter identified step data available example fault diagnostic module compare needed variable list subscribed variable building management system needed variable list subscribed variable result step additional information needed complete planned selected diagnostic information determined needed step diagnostic logic continue acquiring additional information causing additional network traffic response determination additional information needed step additional information requested remote device building management system step request step variety form embodiment situation request component fault diagnostic engine layer smart grid building manager handling example fault detection diagnostic layer fig provide request integrated control layer additional information integrated control layer conduct activity request additional information building system device building integrated control layer listen receive catch data provided smart building manager response data requesting data information received integrated control layer provided fault detection diagnostic layer embodiment integrated control layer archive data provide fault detection diagnostic layer notification information received locally smart building manager exemplary embodiment request step conducted diagnostic module logic engine responsible step embodiment data obtained step requested include listening obtaining data point broadcast device building management system acquired stored supervisory controller smart building manager executing process embodiment communication remote device building management system request form command begin sending variable time hour data received response request step acquired stored diagnostic routine step acquiring storing additional information include copying received information temporary variable calculation adding row database diagnostic transforming received information preparing storing received information diagnosis fault exemplary embodiment additional information fault diagnostic routine acquired automated data acquisition additional information acquired stored step process continue analysing detected fault additional information complete diagnostic step analysing detected fault include conducting calculating step information determine estimate source fault root cause failed device plurality device throwing unexpected information etc exemplary embodiment process completed human intervention feedback exemplary embodiment data expansion proposed confirmation approval adjustment process advantageously head device supervisory controller smart building manager enterprise controller etc conduct detailed fault diagnostic acquiring storing data conducting diagnostic data acquired step device generated data original detection fault referring fig block embodiment automated diagnostic module shown fig shown embodiment automated diagnostic module shown fig configured execute process conducting detailed diagnostic fault process fig automated diagnostic module configured diagnose fault detected automated fault detection module shown fig automated diagnostic module include diagnostic queue fault detected automated fault detection module provided diagnostic queue diagnostic queue collect fault processing component automated diagnostic module embodiment diagnostic queue group related fault potentially related fault reduce eliminate unnecessary diagnostic single fault causing fault embodiment diagnostic queue prioritise fault processing automated diagnostic module diagnostic evaluator processe diagnostic logic stored database assessment stored database determine additional information needed complete diagnostic fault diagnostic queue diagnostic evaluator match detected fault diagnostic logic subsequently match diagnostic logic assessment need diagnostic evaluator cheque assessment relative data data archiver source readily provide information data archiver diagnostic evaluator determine data diagnostic logic performed fault analysis assessment information data archiver diagnostic evaluator communicate diagnostic engine trigger fault diagnostic diagnostic evaluator determine piece information conducting fault diagnostic available diagnostic evaluator communicate data expansion engine trigger acquisition additional information diagnostic evaluator configured receive input feedback manual diagnostic module example diagnostic evaluator building management system data point acquiring additional information diagnostic evaluator manual diagnostic module request enter data point locator url address coded reference etc data meantime failure piece equipment data expansion engine receive notice additional information needed conduct fault diagnostic data expansion engine data query engine archiver request additional information data query engine archiver operate concert layer smart building manager integrated control layer building subsystem integration layer etc data querying data requesting data archiving data communicating component acquire additional information additional information received smart building manager remote source passed data query engine archiver source aforementioned layer otherwise additional information stored data query engine archiver data store smart building manager diagnostic engine receive notice data expansion engine additional information received diagnostic engine conduct fault diagnostic diagnostic logic additional information information diagnostic logic fault diagnosed automated diagnostic module provided fault assessment engine data obtained data expansion engine result diagnostic conducted diagnostic engine information conditional probability fault diagnostic above system rule detect fault fault detection rule multiple cause further single fault trigger fault detection rule accordingly system rule robust correctly detect fault occur identifying fault source challenging exemplary embodiment smart grid building manager variously shown reference fig configured estimate probable fault smart building manager conduct estimation automated fashion automatically response detecting fault word calculating probable fault completed human intervention reference fig process automated diagnostic module configured select probable fault based diagnostic data expanded data above varying alternative embodiment process estimating probable fault operate conjunction amount manual feedback referring fig flow chart process analysing fault building management system shown exemplary embodiment process include detecting fault evaluating data building management system step step completed automated fault detection module shown fig example fault detection step completed evaluating data building management system system rule plurality fault collected part process step fault collected preselected period time acted varying way example fault occur hour period fault thrown filtered spurious hand fault rule trigger continuously period time fault selected diagnostic collection step include type type filtering preselection prioritising process include step collecting support information assessing fault step supporting information collected step detecting fault evaluating data building management system step step collecting plurality fault step additional information collected step additional information include information fault history performance history summary calculation average lastvalue percentile value exponentially weighted moving average etc exemplary embodiment support information collected step information step detecting fault further response receiving deciding assess fault collecting step step system conduct expanded data logging data gathering previously described collecting support information assessing fault include example sending request remotely located building management system device obtaining information data store local smart building manager changing setting historical information variable purged smart building manager maintained logged detected fault plurality fault identified step example response fault uncontrolled temperature number identified step stuck damper faulty valve faulty temperature sensor etc identified device hierarchy connexion ontology information stored smart building manager accordingly fault uncontrolled temperature building zone provide fault zone damper stuck valve faulty temperature sensor zone faulty conditional probability determined plurality fault identified step conditional probability for identified step probability fault occurring fault detected step conditional probability calculation step completed baye theorem exemplary embodiment conditional probability calculation account marginal probability occurrence detected fault account marginal probability occurrence fault cause embodiment determining conditional probability fault include updating prior marginal probability fault fault cause baye theorem updated probability exemplary embodiment process include determining fault overlapping detected fault overlapping detected system update conditional probability increase conditional probability overlapping cause process completed automated fashion embodiment prior marginal probability updated response receiving feedback input module accuracy prior electronic reporting fault cause example smart building manager graphical interface displayed building engineer insert probability time fault detected confirm deny previous estimate estimated correct correct process include determining fault comparing determined probability step determined probability plurality fault compared automatically computer computer aid feedback process include electronically reporting fault step electronically reporting fault include causing indication fault displayed electronic display communication computer smart building manager electronically reporting fault alternatively include causing indication fault transmitted device remote source embodiment electronically reporting fault include adding fault report detected fault referring fig block automated diagnostic module shown include fault collector fault collector receive fault detection notification information data expansion engine diagnostic engine manual diagnostic module shown fig fault collector complete task respect step process complete task example fault collector receive fault detection notification request additional information component automated diagnostic module data expansion engine manual diagnostic module store fault information processing supporting information assessing fault retrieved stored supporting information retriever data store retriever data store operate conjunction fault collector obtain information assessing fault component automated diagnostic module manual diagnostic module source automated fault detection module supporting information retriever data store complete task respect step process embodiment collecting step completed fault collector supporting information retriever data store acting concert synchronising data requesting missing data etc identifier identify fault detected fault embodiment fault collector supporting information retriever data store send information identifier minimum amount fault information continuing processing received identifier lookup fault fault database identifier operate facilitate activity reference step process exemplary embodiment identifier general fault lookup table database fault database data request fault collector supporting information retriever data store followup information request obtain specific identifier device fault cause obtain information ruleout fault cause identifier conduct ruling out exclusion level filtering embodiment identifier rule philtre cause passe fault downstream module fault assessment engine conditional probability engine conditional probability engine determine conditional probability plurality fault identified identifier conditional probability engine complete facilitate task respect step process conditional probability engine baye theorem determine conditional probability plurality fault cause conditional probability engine recall probability fault probability database determined conditional probability precalculated stored probability database variety fault conditional probability continuously periodically sporadically etc updated conditional probability engine conditional probability engine determine fault comparing determined probability conditional probability engine provide electronic report fault gui service work order generation dispatch service module fault assessment engine computer module reporting fault cause example root fault estimated conditional probability engine root provided fault assessment engine fault assessment engine compare plurality received fault identified root cause fault root cause result processing comparison conducted fault assessment engine provided fault assessment engine gui service display graph prioritised list interface work order generation dispatch service module conducting prioritisation fault assessment engine monetize fault associating replacement cost energy cost service cost cost fault work order service dispatch request generated module function prioritization monetization calculated fault assessment engine fault determined automated diagnostic module configuration exemplary embodiment construction arrangement system method shown exemplary embodiment illustrative only embodiment detail disclosure modification variation size dimension structure shape proportion element value parameter mounting arrangement material orientation etc example position element reversed varied nature number discrete element position altered varied accordingly modification intended included scope disclosure order sequence process method step varied resequenced alternative embodiment substitution modification change omission made design operating condition arrangement exemplary embodiment departing scope disclosure disclosure contemplate method system programme product memory machinereadable media accomplishing operation embodiment disclosure implemented existing computer processor special purpose computer processor system incorporated purpose hardwired system embodiment scope disclosure include programme product memory comprising machinereadable media carrying machineexecutable instruction data structure stored thereon machinereadable media media accessed general purpose special purpose computer machine processor example machinereadable media comprise ram rom eprom eeprom cdrom optical disc storage magnetic disc storage magnetic storage device medium carry store desired programme code form machineexecutable instruction data structure accessed general purpose special purpose computer machine processor combination included scope machinereadable media machineexecutable instruction include example instruction data general purpose computer special purpose computer special purpose processing machine perform function function figure show specific order method step order step differ depicted step performed concurrently partial concurrence variation depend software hardware system chosen designer choice variation scope disclosure likewise software implementation accomplished standard programming technique rule based logic logic accomplish connexion step processing step comparison step decision step april december january ","m_szGeo1":"United States","m_szSourceType":"source_patentapplications","m_szSrcUrl":"http://www.freepatentsonline.com/y2011/0178977.html","m_Places":["United States","Cedarburg, Wi","Talbot","Overly","Erp","Esp"],"m_People":["Drees, Kirk H."],"m_Companies":["American Society Of Heating","Ieee","Elsevier","Lifespans","A Wireless","Johnson Controls","Ansi","Universal","Boundaries","Lawrence Berkeley National Laboratories","Optimizing","Signal","Boundary","National Institute Of Standards And Technology","Nist","Rtp","Isos","Iso","Diesel","Target","Indicative"],"m_BiGrams":["building manager","smart building","fault detection","building subsystem","management system","building management","integrated control","control layer","layer configured","diagnostic module","integration layer","detected fault","conditional probability","subsystem integration","smart grid","demand response","am&v layer","detection module","automated diagnostic","fdd layer","fault detected","data building","response layer","additional information","module configured","rule condition","plurality fault","trigger condition","manager configured","control algorithm","detection engine","threshold adjustment","normalisation component","control strategy","fault building","marginal probability","supervisory controller","device building","hvac subsystem","probability plurality","fault cause","automated fault","enterprise integration","fault assessment","active rule","detect fault","detecting fault","processing circuit","subsystem building","fault diagnostic","ahu controller","detection diagnostic","reporting fault","remote device","detection rule","configured provide","service bus","assessment engine","evaluating data","layer shown","rule module","determining conditional","communication interface","module shown","shown exemplary","real time","master controller","fault include","work order","finite state","state machine","manual diagnostic","fault evaluating","diagnostic layer","web service","configuration tool","layer include","data store","long term","term diagnostic","energy saving","analysing fault","electronically reporting","prior marginal","detection strategy","temperature sensor","shown include","business rule","layer integrated","layer building","higher level","layer smart","gui service","condition database","determine fault","determined probability","probability fault","subsystem device","control activity","message format"],"m_TriGrams":["smart building manager","building management system","integrated control layer","subsystem integration layer","building subsystem integration","automated diagnostic module","fault detection module","demand response layer","data building management","building manager configured","fault detection engine","fault building management","probability plurality fault","enterprise integration layer","conditional probability plurality","plurality fault detected","control layer configured","diagnostic module configured","fault detection diagnostic","device building management","automated fault detection","evaluating data building","determining conditional probability","fault detection rule","fault assessment engine","am&v layer configured","active rule module","detection diagnostic layer","long term diagnostic","term diagnostic module","analysing fault building","management system method","electronically reporting fault","prior marginal probability","remote device building","fault detection strategy","layer integrated control","fdd layer configured","finite state machine","manual diagnostic module","detecting fault evaluating","fault evaluating data","integration layer shown","integration layer configured","message format normalisation","format normalisation component","fault comparing determined","comparing determined probability","reporting fault cause","conditional probability engine","controller building management","smart grid energy","component building subsystem","layer configured provide","layer building subsystem","service bus adapter","integrated control engine","layer smart building","transition estimation module","marginal probability occurrence","causing indication fault","response detecting fault","analysing detected fault","system method include","flow fault detection","air handling unit","grid energy provider","energy provider purchaser","include control logic","control layer building","algorithm integrated control","rulebased fault detection","diagnostic module manual","work order generation","order generation dispatch","generation dispatch service","dispatch service module","building manager provide","building occupant interface","management system step","additional information needed","data expansion engine","retriever data store","detect fault building","method analysing fault","probability occurrence fault","updating prior marginal","marginal probability fault","stored supervisory controller","processing circuit configured","building manager shown","threshold adjustment module","diagnostic module shown","normalisation component configured","application normalisation component","normalisation component building","building subsystem normalisation","subsystem normalisation component","layer include control","control algorithm integrated"],"m_SocialTags":[],"m_Topics":[],"m_Industry":[],"m_Technology":[],"m_BiCnt":[121,118,113,101,90,87,79,71,59,54,53,46,39,35,34,33,33,30,30,30,29,28,27,26,22,22,21,21,21,20,19,19,19,19,18,18,18,18,18,17,17,17,17,17,17,16,16,16,16,16,16,15,15,15,15,15,15,15,14,14,14,13,13,13,13,13,13,12,12,12,12,12,11,11,11,11,11,11,11,11,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9],"m_TriCnt":[115,83,71,33,30,29,28,27,23,20,19,17,17,17,16,14,14,14,13,13,13,12,12,12,12,12,12,11,11,11,10,10,10,10,10,10,10,10,10,10,9,9,9,9,9,9,8,8,8,8,7,7,7,7,7,7,7,7,7,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],"m_iDocBodyWordCnt":12771}
